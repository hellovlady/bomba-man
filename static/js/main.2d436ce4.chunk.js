(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{35:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var r,a,o,i,c,l,s,u,b,d=n(0),f=n.n(d),p=n(17),g=n.n(p),m=(n(35),n(3)),v=n(4),O=v.c.div(r||(r=Object(m.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]))),j=n(7);!function(t){t.UP="Up",t.RIGHT="Right",t.DOWN="Down",t.LEFT="Left"}(a||(a={})),function(t){t.X="X",t.Y="Y"}(o||(o={})),function(t){t.Firing="Firing",t.Exploding="Exploding",t.Exploded="Exploded"}(i||(i={})),function(t){t.P1="P1",t.P2="P2",t.P3="P3",t.P4="P4"}(c||(c={})),(s=l||(l={})).Empty="T1",s.Breaking="T2",s.NonBreaking="T3",function(t){t.BombSize="PU1",t.Speed="PU2",t.Invincibility="PU3"}(u||(u={})),function(t){t.Bomb="B",t.FireCore="FC",t.FireHorizontal="FH",t.FireVertical="FV"}(b||(b={}));var y,h=n(9),k={title:"Bomberman - Work In Progress",game:{blockDensity:6,lives:1,bombSize:1,movementSpeed:200,powerUps:(y={},Object(j.a)(y,u.BombSize,1),Object(j.a)(y,u.BombSize,1),y)},size:{game:15,character:32,tile:32,movement:32,collisionMin:1,collisionMax:1,bomb:16,explosion:1},duration:{movement:200,bomb:{firing:2,exploding:2}},keyboardConfig:{player:{P1:{MoveUp:h.j,MoveRight:h.b,MoveDown:h.f,MoveLeft:h.a,DropBomb:h.h},P2:{MoveUp:h.i,MoveRight:h.e,MoveDown:h.c,MoveLeft:h.d,DropBomb:h.g}}}};k.size.collisionMin=Math.floor(k.size.game*k.size.game/3),k.size.collisionMax=Math.floor(k.size.game*k.size.game/2);var x,E=k,w=n(5),z=n(2),C=n(6),S=n(22),T=n(8),P=n(10);function M(t,e){var n=e||t,r=void 0!==e&&t||0;return Math.floor(Math.random()*(n-r))+r}var D,R=E.size.game-1,I=[[0,0],[0,1],[1,0],[0,R],[0,R-1],[1,R],[R,R],[R,R-1],[R-1,R],[R,0],[R,1],[R-1,0]],N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I,n=[].concat(Object(P.a)(Object.keys(l)),Object(P.a)(Array(11-E.game.blockDensity).fill("Empty"))),r=Array(t).fill(0).map((function(){return Array(t).fill(0).map((function(){return l[n[M(n.length)]]}))}));return e.forEach((function(t){var e=Object(T.a)(t,2),n=e[0],a=e[1];r[n][a]!==l.Empty&&(r[n][a]=l.Empty)})),r},L=function(t){var e=t.top,n=t.left;return{ySquare:e/E.size.movement,xSquare:n/E.size.movement}},B=E.size.movement*(E.size.game-1),F="translateZ(calc(var(--tile-size) / 2 * 1px)) rotateX(0deg) rotateY(0deg) scale(1, 1)",q=(x={},Object(j.a)(x,o.X,{REPLACE:/rotateX\(-?\d+deg\)/g,FIND:Object(S.a)(/rotateX\((\x2D?[0-9]+)deg\)/,{degree:1})}),Object(j.a)(x,o.Y,{REPLACE:/rotateY\(-?\d+deg\)/g,FIND:Object(S.a)(/rotateY\((\x2D?[0-9]+)deg\)/,{degree:1})}),x),A=function(t,e){t.style.transition="".concat(E.duration.movement,"ms"),t.style.transform=function(t,e){var n=90,r=o.Y;return e!==a.DOWN&&e!==a.LEFT||(n*=-1),e!==a.UP&&e!==a.DOWN||(r=o.X),t.replace(q[r].REPLACE,"rotate".concat(r,"(").concat(n,"deg)"))}(t.style.transform,e)},G=function(t,e){var n,r=t.playerConfig,o=r.id,i=r.coordinates,c=i.top,s=i.left,u=r.ref,d=t.direction,f=t.is3D,p=t.gameMap,g=c,m=s;switch(d){case a.UP:g=c-E.size.movement;break;case a.RIGHT:m=s+E.size.movement;break;case a.DOWN:g=c+E.size.movement;break;case a.LEFT:m=s-E.size.movement}(function(t,e,n){var r,a=L({top:t,left:e}),o=a.xSquare,i=null===(r=n[a.ySquare])||void 0===r?void 0:r[o];return!(i===l.Breaking||i===l.NonBreaking||i===b.Bomb)&&!(e<0||e>B)&&!(t<0||t>B)})(g,m,p)&&(f&&((n=u).style.transition="0ms",n.style.transform=F),setTimeout((function(){f&&A(u,d),e({playerId:o,newCoordinates:{top:g,left:m}})}),0))};!function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(D||(D={}));var $,_,V,U,H,X,Z,Y,W,J,K,Q,tt,et,nt,rt=function(t,e,n){var r=[];return t[e][n]===l.Breaking&&r.push({ySquare:e,xSquare:n}),r},at=function(t,e,n){var r=[];return Object.values(t).forEach((function(t){var a=t.id,o=t.coordinates,i=L(o),c=i.xSquare,l=i.ySquare;c===n&&l===e&&r.push(a)})),r},ot=function(t){var e,n;if(void 0!==t.xSquare)e=t.xSquare,n=t.ySquare;else{var r=L(t);e=r.xSquare,n=r.ySquare}return{xSquare:e,ySquare:n}},it=function(t){return t<0||t>=E.size.game},ct=function(t,e,n){for(var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=ot(e),i=o.xSquare,c=o.ySquare,s={xSquare:i,ySquare:c},u=(r={},Object(j.a)(r,D.HORIZONTAL,[s]),Object(j.a)(r,D.VERTICAL,[s]),r),d=function(t,e,n){u[n].push({xSquare:t,ySquare:e})},f=[[0,-1],[1,0],[0,1],[-1,0]],p=[D.VERTICAL,D.HORIZONTAL,D.VERTICAL,D.HORIZONTAL],g=0;g<4;g++)for(var m=i,v=c,O=p[g],y=!0,h=0;h<n;h++)if(y){var k=Object(T.a)(f[g],2),x=k[0],E=k[1];if(v+=E,!it(m+=x)&&!it(v)){var w=t[v][m];if(a){if(w!==b.FireHorizontal&&w!==b.FireVertical)continue;d(m,v,O)}switch(w){case l.Breaking:d(m,v,O),y=!1;break;case l.NonBreaking:y=!1;break;default:d(m,v,O)}}}return u},lt=function(t,e,n,r){var a,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=[],c=[],l=(a={},Object(j.a)(a,D.HORIZONTAL,[]),Object(j.a)(a,D.VERTICAL,[]),a),s=ct(t,n,r,o);return Object.keys(s).forEach((function(n){s[n].forEach((function(r){var a=r.ySquare,o=r.xSquare;l[n].push({xSquare:o,ySquare:a}),i=[].concat(Object(P.a)(i),Object(P.a)(rt(t,a,o))),c=[].concat(Object(P.a)(c),Object(P.a)(at(e,a,o)))}))})),{coordinatesToSetOnFire:l,tilesToBreak:i,playersToKill:c}},st=function(t){var e=t.id,n=t.coordinates,r=n.top,a=n.left,o=t.state,i=o.bombSize+o.powerUps[u.BombSize];return{id:(new Date).toJSON(),explosionSize:i,top:r,left:a,playerId:e}},ut=function(t,e,n){var r=E.game,a=(r.blockDensity,Object(C.a)(r,["blockDensity"]));return{id:t,coordinates:{top:32*e,left:32*n},ref:null,state:Object(z.a)(Object(z.a)({},a),{},{powerUps:Object(z.a)({},a.powerUps)})}},bt=function(t,e,n,r){if(!(t>R||e>R||t<0||e<0)){var a=r[t][e];if(t===n.top&&e===n.left)return 0;if(a===l.Empty)return 1;if(a===l.Breaking)return-1;if(a!==l.NonBreaking)return 0}},dt=function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l={},s=i?e:c.top,u=i?n:c.left;return Object.values(a).forEach((function(i){var c=e,b=n;switch(i){case a.LEFT:b-=1;break;case a.UP:c-=1;break;case a.RIGHT:b+=1;break;case a.DOWN:c+=1}var d=bt(c,b,{top:s,left:u},r);l[i]={topCoordinate:c,leftCoordinate:b,score:d},o>0&&d&&(l[i]=Object(z.a)(Object(z.a)({},l[i]),{child:t(c,b,r,o-1,!1,{top:s,left:u})}))})),l},ft=function(t,e,n){var r=dt(t,e,n);console.log(r);var a,o=null,i=null;return Object.entries(r).forEach((function(t){var e=Object(T.a)(t,2),n=e[0],r=e[1],c=function(t,e){var n=null;return void 0===e.score?n:n=e.score}(0,r);(!i||c&&i<c)&&(i=c,o=r,a=n)})),o?a:null},pt=function(t,e){var n=Object(d.useRef)();Object(d.useEffect)((function(){n.current=t}),[t]),Object(d.useEffect)((function(){var t=setInterval((function(){var t;null===(t=n.current)||void 0===t||t.call(n)}),e);return function(){return clearInterval(t)}}),[e])},gt=n(11),mt=E.size.game-1,vt=ut("P1",0,0),Ot=ut("P2",0,mt),jt=ut("P3",mt,mt),yt=ut("P4",mt,0),ht="Game",kt={players:{P1:vt},bombs:[],gameMap:N(E.size.game),is3D:!1,isSideView:!1,size:E.size.game,animationCounter:0},xt={P1:vt,P2:Ot,P3:jt,P4:yt},Et="".concat(ht,"/SET_GAME_STATE"),wt="".concat(ht,"/START_GAME"),zt="".concat(ht,"/SET_GAME_MAP"),Ct="".concat(ht,"/SET_PLAYER_REF"),St="".concat(ht,"/MAKE_MOVE"),Tt="".concat(ht,"/TRIGGER_MOVE"),Pt="".concat(ht,"/DROP_BOMB"),Mt="".concat(ht,"/REMOVE_BOMB"),Dt="".concat(ht,"/TRIGGER_EXPLOSION"),Rt="".concat(ht,"/ON_EXPLOSION_COMPLETE"),It="".concat(ht,"/TRIGGER_ANIMATION"),Nt="".concat(ht,"/TOGGLE_GAME_DIMENSION"),Lt="".concat(ht,"/TOGGLE_GAME_PERSPECTIVE"),Bt="".concat(ht,"/TOGGLE_GAME_TWO_PLAYER"),Ft="".concat(ht,"/TOGGLE_GAME_NPC"),qt=function(t){return t.Game||kt},At=function(){return Object(gt.a)(qt,(function(t){return t.players}))},Gt=function(){return Object(gt.a)(qt,(function(t){return t.is3D}))},$t=function(){return Object(gt.a)(qt,(function(t){return t.isSideView}))},_t=function(){return Object(gt.a)(qt,(function(t){return t.gameMap}))},Vt=function(t){return{type:zt,payload:t}},Ut=function(){var t=Object(w.b)(),e=Object(w.c)(Object(gt.a)(qt,(function(t){return t.size}))),n=Object(d.useCallback)((function(e){return t(function(t){return{type:Et,payload:t}}(e))}),[t]),r=Object(d.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t(Vt({gameMap:e,animate:n}))}),[t]),a=Object(d.useCallback)((function(){return r(N(e),!0)}),[e,r]),o=Object(d.useCallback)((function(e){return t({type:Ct,payload:e})}),[t]),i=Object(d.useCallback)((function(e){return t({type:St,payload:e})}),[t]),c=Object(d.useCallback)((function(e){return t((n=Object(z.a)(Object(z.a)({},e),{},{onComplete:i}),{type:Tt,payload:n}));var n}),[t,i]),l=Object(d.useCallback)((function(e){return t({type:Pt,payload:e})}),[t]),s=Object(d.useCallback)((function(e){return t({type:Mt,payload:e})}),[t]),u=Object(d.useCallback)((function(e){return t({type:Dt,payload:e})}),[t]),b=Object(d.useCallback)((function(e){t({type:Rt,payload:e})}),[t]),f=Object(d.useCallback)((function(){return t({type:It})}),[t]),p=Object(d.useCallback)((function(){return t({type:Nt})}),[t]),g=Object(d.useCallback)((function(){return t({type:Lt})}),[t]),m=Object(d.useCallback)((function(){return t({type:Bt})}),[t]),v=Object(d.useCallback)((function(){return t({type:Ft})}),[t]);return{updateGameSettings:n,generateNewCollisionCoordinates:a,setPlayerRef:o,makeMove:i,triggerMove:c,dropBomb:l,removeBomb:s,triggerExplosion:u,onExplosionComplete:b,triggerAnimation:f,toggleDimension:p,togglePerspective:g,toggleTwoPlayer:m,toggleNPC:v}},Ht=function(){var t=Ut(),e=t.dropBomb,n=t.triggerMove,r=Object(w.c)(_t()),o=Object(w.c)(Gt()),i=Object(w.c)(At()),l=Object(d.useRef)({P1:(new Date).getTime(),P2:(new Date).getTime(),P3:(new Date).getTime(),P4:(new Date).getTime()}),s=Object(d.useRef)({});return pt((function(){i.P4&&function(t){var e=t.players,n=t.gameMap,r=t.triggerMove,a=c.P4,o=e[a];if(o){var i=o.coordinates.top/E.size.character,l=o.coordinates.left/E.size.character,s=ft(i,l,n);console.log(s),s&&r({playerId:a,direction:s})}}({players:i,gameMap:r,triggerMove:n,dropBomb:e})}),E.duration.movement),Object(d.useEffect)((function(){var t=function(t,e){var r=function(t,e){var n=e.MoveUp,r=e.MoveRight,o=e.MoveDown,i=e.MoveLeft;return[t.current[n]&&a.UP,t.current[r]&&a.RIGHT,t.current[o]&&a.DOWN,t.current[i]&&a.LEFT].filter(Boolean)}(s,e);r.length&&r.forEach((function(e){n({playerId:t,direction:e})}))},r=function(){s.current&&Object.keys(i).forEach((function(n){var r=E.keyboardConfig.player[n];if(r){if(i[n].ref){var a=(new Date).getTime();a-l.current[n]>E.duration.movement&&(l.current[n]=a,t(n,r))}!function(t,n){var r=n.DropBomb;s.current[r]&&e(t)}(n,r)}}))},o=function(t){if(s.current&&l.current){var e="keydown"===t.type;!function(t,e){s.current[t.code]=e}(t,e),e&&r()}};return window.addEventListener("keyup",o),window.addEventListener("keydown",o),function(){window.removeEventListener("keyup",o),window.removeEventListener("keydown",o)}}),[e,r,o,i,n]),{}},Xt=n(1),Zt=v.c.div($||($=Object(m.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n\n\t& > :first-child {\n\t\tmargin-right: 50px;\n\t\twidth: 15%;\n\t\t@media only screen and (max-width: 600px) {\n\t\t\twidth: 100%;\n\t\t\tmargin: 50px auto;\n\t\t\torder: 2;\n\t\t\t& button {\n\t\t\t\twidth: 80% !important;\n\t\t\t}\n\t\t}\n\t}\n"]))),Yt=v.c.div(_||(_=Object(m.a)(["\n\ttext-align: center;\n\t","\n"])),(function(t){return t.$is3D?"perspective: 1000":""})),Wt=function(t){var e=t.children,n=Object(w.c)(Gt());return Object(Xt.jsxs)(Yt,{$is3D:n,children:[Object(Xt.jsx)("h1",{children:E.title}),Object(Xt.jsx)(Zt,{children:e})]})},Jt={palette:{background:{primary:"var(--primary-background)",secondary:"var(--secondary-background)"},color:{primary:"var(--primary-color)",secondary:"var(--secondary-color)",error:"var(--error-color)",warning:"var(--warning-color)",success:"var(--success-color)",info:"var(--info-color)",default:"var(--default-color)"}},shape:{borderRadius:"var(--border-radius)",padding:"var(--padding)"},game:{character:{size:"var(--character-size)"},tile:{size:"var(--tile-size)"}}},Kt=Object(v.a)(V||(V=Object(m.a)(["\n\t:root {\n\t\t/* #region COLORS */\n\t\t--primary-background: #13141b;\n\t\t--secondary-background: #1a1d28;\n\n\t\t--primary-color: #ec7ebd;\n\t\t--secondary-color: #763ee6;\n\n\t\t/* --error-color: rgb(255, 122, 105);\n\t\t--warning-color: rgb(241, 168, 23);\n\t\t--success-color: rgb(49, 162, 76);\n\t\t--info-color: rgb(134, 218, 255);\n\t\t--default-color: rgb(228, 230, 235); */\n\t\t--error-color: #f44336;\n\t\t--warning-color: #ff9800;\n\t\t--success-color: #4caf50;\n\t\t--info-color: #2196f3;\n\t\t--default-color: #E4E6EB;\n\t\t/* #endregion */\n\n\t\t/* #region UTILITIES */\n\t\t--border-radius: 4px;\n\t\t--padding: 10px;\n\t\t/* #endregion */\n\n\t\t/* #region GAME */\n\t\t--character-size: ","px;\n\t\t--tile-size: ","px;\n\t\t--game-size: ","px;\n\t\t--exploding-duration: ","s;\n\t\t--firing-duration: ","s;\n\t\t/* #endregion */\n\t\t\n\t\t/* #region ANIMATIONS */\n\t\t/* @see https://easings.net/#easeInOutBack */\n\t\t--ease-in-out-back: cubic-bezier(0.68, -0.6, 0.32, 1.6);\n\t\t--ease-in-out-quint: cubic-bezier(0.83, 0, 0.17, 1);\n\t\t--incremental-animation-delay: 0.03s;\n\t\t--block-animation-duration: 0.5s;\n\t\t/* #endregion */\n\n\t\t/* #region GENERICS */\n\t\t*, ::before, ::after {\n\t\t\tbox-sizing: border-box;\n\t\t}\n\n\t\thtml,\n\t\tbody,\n\t\t#root {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t}\n\n\t\thtml {\n\t\t\tbackground-color: ",";\n\t\t\t/* color: #fff; */\n\t\t}\n\n\t\t#root {\n\t\t\tposition: relative;\n\t\t}\n\n\t\tpre {\n\t\t\twhite-space: pre-wrap;\n\t\t\tword-wrap: break-word;\n\t\t}\n\t\t/* #endregion */\n\n\t\t/* #region SCROLLBARS */\n\t\t*, ::before, ::after {\n\t\t\tscroll-behavior: smooth;\n\t\t\tscrollbar-color: black transparent;\n\t\t\tscrollbar-width: thin;\n\t\t}\n\n\t\t/* width */\n\t\t::-webkit-scrollbar {\n\t\t\twidth: 5px;\n\t\t\theight: 6px;\n\t\t}\n\n\t\t/* Track */\n\t\t::-webkit-scrollbar-track {\n\t\t\tbackground: #bfbfbf;\n\t\t}\n\n\t\t/* Handle */\n\t\t::-webkit-scrollbar-thumb {\n\t\t\tbackground: black;\n\t\t\tborder-radius: 10px;\n\t\t}\n\n\t\t/* Handle on hover */\n\t\t::-webkit-scrollbar-thumb:hover {\n\t\t\tbackground: rgba(0, 0, 0, 0.7);\n\t\t}\n\t\t/* #endregion */\n\t}\n"])),E.size.character,E.size.tile,E.size.game,E.duration.bomb.exploding,E.duration.bomb.firing,Jt.palette.background.primary),Qt=Jt,te=v.c.button(U||(U=Object(m.a)(["\n\tbackground-color: ",";\n\t/* IGNORE SIZE FOR NOW */\n\tborder-radius: ",";\n\tpadding: ",";\n"])),(function(t){var e=t.$variant;return Qt.palette.color[e]}),Qt.shape.borderRadius,Qt.shape.padding),ee=function(t){var e=t.variant,n=t.size,r=t.children,a=Object(C.a)(t,["variant","size","children"]);return Object(Xt.jsx)(te,Object(z.a)(Object(z.a)({$variant:e,$size:n},a),{},{children:r}))},ne=Object(d.memo)(ee),re=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){setTimeout(e,t)}))},ae=function(t){var e,n=t.active,r=void 0!==n&&n,a=t.onClick,o=t.children,i=Object(C.a)(t,["active","onClick","children"]);return Object(Xt.jsx)(ne,Object(z.a)(Object(z.a)({style:{width:"100%",wordWrap:"break-word",marginBottom:10},variant:r?"success":"warning",size:"medium",onClick:(e=a,function(t){t.currentTarget.blur(),e(t)})},i),{},{children:o}))},oe=function(){var t=Ut(),e=t.generateNewCollisionCoordinates,n=t.togglePerspective,r=t.toggleDimension,a=t.toggleTwoPlayer,o=t.toggleNPC,i=Object(w.c)(Gt()),c=Object(w.c)($t()),l=Object(w.c)(At()),s=[{label:"New Collision Coordinates",onClick:e},{label:"Toggle 3D (Experimental)",onClick:r,active:i},{label:"Toggle Side View",onClick:n,active:c,disabled:!i},{label:"Toggle Two-Player Mode",onClick:a,active:!!l.P2},{label:"Toggle NPC",onClick:o,active:!!l.P4}];return Object(Xt.jsx)("div",{children:s.map((function(t){var e=t.label,n=Object(C.a)(t,["label"]);return Object(Xt.jsx)(ae,Object(z.a)(Object(z.a)({},n),{},{children:e}),e)}))})},ie=function(t){var e=Object(d.useRef)();return Object(d.useEffect)((function(){e.current=t}),[t]),e.current},ce=n(21),le=n.n(ce),se=n(28),ue=(n(45),v.c.div(H||(H=Object(m.a)([""])))),be=v.c.div(X||(X=Object(m.a)(["\n\t","\n\theight: calc(var(--tile-size) * 1px);\n\twidth: calc(var(--tile-size) * 1px);\n\ttransform-style: preserve-3d;\n\tposition: absolute;\n\ttransform-origin: center center;\n\ttransition: 300ms;\n\n\ttransform: scale(1, 1) translateZ(calc(var(--tile-size) / 2 * -1px));\n\n\t& > "," {\n\t\tborder: 1px solid var(--primary-background);\n\n\t\theight: calc(var(--tile-size) * 1px);\n\t\twidth: calc(var(--tile-size) * 1px);\n\t\t/* transform-origin: 50% 50%; */\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\tposition: absolute;\n\n\t\t/** @see https://codepen.io/jh3y/pen/BaKqQLJ */\n\t\t&:nth-of-type(1) {\n\t\t\ttransform: translate(-50%, -50%) rotateX(-90deg)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * 1px));\n\t\t}\n\t\t&:nth-of-type(2) {\n\t\t\ttransform: translate(-50%, -50%) rotateX(-90deg) rotateY(180deg)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * 1px));\n\t\t}\n\t\t&:nth-of-type(3) {\n\t\t\ttransform: translate(-50%, -50%) rotateX(-90deg) rotateY(90deg)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * 1px));\n\t\t}\n\t\t&:nth-of-type(4) {\n\t\t\ttransform: translate(-50%, -50%) rotateX(-90deg) rotateY(-90deg)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * 1px));\n\t\t}\n\t\t&:nth-of-type(5) {\n\t\t\tbackground-color: var(--secondary-background);\n\t\t\ttransform: translate(-50%, -50%)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * 1px));\n\t\t}\n\t\t&:nth-of-type(6) {\n\t\t\ttransform: translate(-50%, -50%)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * -1px)) rotateX(180deg);\n\t\t}\n\t}\n\n\t&.bouncy-block- {\n\t\t&no-animation {\n\t\t\ttransform: translateZ(calc(var(--tile-size) / 2 * 1px));\n\t\t\t& > "," {\n\t\t\t\tbackground-color: var(--secondary-color);\n\t\t\t}\n\t\t}\n\n\t\t&0 {\n\t\t\ttransform: translateZ(calc(var(--tile-size) / 2 * 1px))\n\t\t\t\trotateX(0deg) rotateY(0deg) rotateZ(0deg);\n\t\t}\n\t}\n"])),(function(t){var e=t.$size;return"\n\t\t--tile-size: ".concat(e,";\n\t")}),ue,ue),de=Object(d.forwardRef)((function(t,e){var n=t.size,r=t.top,a=t.left,o=t.animate,i=void 0!==o&&o,c=t.variant,l=t.color,s=t.collisionIndex,u=t.style,b=t.className,d=Object(C.a)(t,["size","top","left","animate","variant","color","collisionIndex","style","className"]),f="cuboid bouncy-block-".concat((i?s:"no-animation")||0," ").concat(c).concat(b&&" ".concat(b)||"");return Object(Xt.jsx)(be,Object(z.a)(Object(z.a)({className:f,style:Object(z.a)(Object(z.a)({},u),{},{top:r,left:a,width:n,height:n}),ref:e,$size:n},d),{},{children:Array(6).fill(0).map((function(t,e){return Object(Xt.jsx)(ue,{style:Object(z.a)(Object(z.a)({},l&&{backgroundColor:l}),{},{width:n,height:n})},e)}))}))})),fe=function(t,e){return"".concat(e?"transform: translateZ(calc(var(--tile-size) / 2 * 2px)) rotateX(".concat(t,"deg) rotateY(").concat(t,"deg)"):"transform: rotate(".concat(t,"deg)"),";")},pe=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(v.d)(Z||(Z=Object(m.a)(["\n\t0% { "," }\n\t\n\t/* 40% -> 100% */\n\t","\n"])),fe(0,t),Array(7).fill(0).map((function(e,n){return"".concat(10*(n+4),"% { ").concat(fe((n+1)*(t&&(n<6?90:100)||n<4&&90||n<6&&270||360),t)," }")})).join("\n"))},ge=v.c.div(Y||(Y=Object(m.a)(["\n\tanimation: "," linear forwards;\n"])),pe()),me=Object(v.c)(de)(W||(W=Object(m.a)(["\n\t/* "," */\n\tanimation: "," linear forwards;\n"])),(function(t){var e=t.size;return"\n\t\t--tile-size: ".concat(e,";\n\t")}),pe(!0)),ve=function(t){var e=t.color,n=t.firingDuration,r=t.explodingDuration,a=t.explosionSize,o=t.id,c=t.top,l=t.left,s=t.triggerExplosion,u=t.onExplosionComplete,f=t.is3D,p=Object(d.useState)(i.Firing),g=Object(T.a)(p,2),m=g[0],v=g[1];Object(d.useEffect)((function(){(function(){var t=Object(se.a)(le.a.mark((function t(){return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(1e3*n);case 2:return s(o),v(i.Exploding),t.next=6,re(r/2*1e3);case 6:u(o);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[r,a,n,s,u,c,l,o]);var O=E.size.bomb,j=O/2,y={position:"absolute",backgroundColor:e,width:O,height:O,top:c+j,left:l+j,animationDuration:"".concat(n,"s")};return m===i.Firing&&(!f&&Object(Xt.jsx)(ge,{style:y})||Object(Xt.jsx)(me,{size:O,top:Number(y.top),left:Number(y.left),animate:!1,variant:b.Bomb,color:Qt.palette.color.error,collisionIndex:1,style:y}))||null},Oe=(n(46),Object(d.forwardRef)((function(t,e){t.id,t.name;var n=t.coordinates,r=n.top,o=n.left,i=t.style,c=t.keyboardConfig,l=Object(C.a)(t,["id","name","coordinates","style","keyboardConfig"]),s=Object(d.useState)(a.DOWN),u=Object(T.a)(s,2),b=u[0],f=u[1],p=Object(d.useState)(""),g=Object(T.a)(p,2),m=g[0],v=g[1],O=Object(d.useRef)((new Date).getTime()),j=!!m;return Object(d.useEffect)((function(){var t=function(t){return c?function(t,e){var n=e.MoveUp,r=e.MoveRight,o=e.MoveDown,i=e.MoveLeft;switch(!0){case t===n:return a.UP;case t===r:return a.RIGHT;case t===o:return a.DOWN;case t===i:return a.LEFT;default:return null}}(t.code,c):null},e=function(){m&&v("")},n=function(n){var r=t(n);r?(O.current=(new Date).getTime(),v(r),function(t){f(t)}(r)):e()},r=function(){setTimeout((function(){var t=(new Date).getTime()-200;O.current>=t||e()}),200)};return document.addEventListener("keydown",n),document.addEventListener("keyup",r),function(){document.removeEventListener("keydown",n),document.removeEventListener("keyup",r)}}),[m,c]),Object(Xt.jsxs)("div",Object(z.a)(Object(z.a)({className:"character","data-facing":b,"data-walking":j.toString(),ref:e,style:Object(z.a)(Object(z.a)({},i),{},{top:r,left:o})},l),{},{children:[Object(Xt.jsx)("div",{className:"shadow pixel-art"}),Object(Xt.jsx)("div",{className:"spritesheet-wrapper",children:Object(Xt.jsx)("div",{className:"spritesheet pixel-art"})})]}))}))),je=Object(d.forwardRef)((function(t,e){var n=t.id,r=t.name,a=t.coordinates,o=a.top,i=a.left,l=t.keyboardConfig,s=t.is3D,u=Object(C.a)(t,["id","name","coordinates","keyboardConfig","is3D"]),b=E.size,d=(b.tile-b.character)/2,f=d+o,p=d+i,g=Object(z.a)({id:n,name:"".concat(r," ").concat(n),coordinates:{top:f,left:p},keyboardConfig:l,ref:e},u);return s&&Object(Xt.jsx)(de,Object(z.a)({size:E.size.character,top:f,left:p,animate:!0,color:Qt.palette.color.success,style:{transform:F},variant:c[n],ref:e},u))||Object(Xt.jsx)(Oe,Object(z.a)({},g))})),ye=function(){var t=Ut().setPlayerRef,e=Object(w.c)(At()),n=Object(w.c)(Object(gt.a)(qt,(function(t){return t.bombs}))),r=Object(w.c)(Gt()),a=ie(r),o=Ut(),i=o.triggerExplosion,c=o.onExplosionComplete,l=Object(d.useCallback)((function(e){var n=e.id,o=e.ref;return function(e){a===r&&o||t({playerId:n,newRef:e})}}),[r,a,t]);return Object(Xt.jsxs)(Xt.Fragment,{children:[Object.entries(e).map((function(t){var e=Object(T.a)(t,2),n=e[0],a=e[1],o=E.keyboardConfig.player[n];return Object(Xt.jsx)(je,{id:n,name:"Bomber",coordinates:a.coordinates,keyboardConfig:o,is3D:r,ref:l(a)},n)})),n.map((function(t){var e=t.id,n=Object(C.a)(t,["id"]);return Object(Xt.jsx)(ve,Object(z.a)(Object(z.a)({id:e},n),{},{color:Qt.palette.color.error,explosionSize:E.size.explosion,firingDuration:E.duration.bomb.firing,explodingDuration:E.duration.bomb.exploding,triggerExplosion:i,onExplosionComplete:c,is3D:r}),e)}))]})},he=Object(v.d)(J||(J=Object(m.a)(["\n\t0% { transform: scale(0, 0); }\n\t25% { transform: scale(0.9, 1.1); }\n\t50% { transform: scale(1.1, 0.9); }\n\t75% { transform: scale(0.95, 1.05); }\n\t100% { transform: scale(1, 1); }\n"]))),ke=v.c.div.attrs((function(t){var e=t.$size,n=t.$top,r=t.$left,a=t.$color;return{style:Object(z.a)({width:e,height:e,top:n,left:r},a&&{backgroundColor:a})}}))(Q||(Q=Object(m.a)(["\n\tposition: absolute;\n\t/* background-color: ","; */\n\tborder: 1px solid ",";\n\t","\n"])),Qt.palette.background.secondary,Qt.palette.background.primary,(function(t){var e=t.$color,n=t.$collisionIndex,r=t.$animate,a=t.$fireSquare;return a&&Object(v.b)(tt||(tt=Object(m.a)(["\n\t\t\t\t\tborder: none;\n\t\t\t\t\tanimation: ","\n\t\t\t\t\t\tcalc(var(--firing-duration) / 2)\n\t\t\t\t\t\tvar(--ease-in-out-quint) forwards;\n\t\t\t\t"])),function(t){var e=0,n=0,r="",a="",o="",i="";return t===b.FireHorizontal?e=1:t===b.FireVertical?n=1:(e=.5,n=.5,r=" rotate(90deg)",a=" rotate(360deg)",o="border-radius: 50%;",i="border-radius: 0%;"),Object(v.d)(K||(K=Object(m.a)(["\n\t\t// cool effect\n\t\t/* 0% { border: 16px solid ","; transform: scale(",", ",")","; "," } */\n\t\t0% { background-color: ","; transform: scale(",", ",")","; "," }\n\t\t20% { background-color: ","; }\n\t\t40% { background-color: ","; }\n\t\t50% { "," }\n\t\t60% { background-color: ","; }\n\t\t80% { background-color: ","; }\n\t\t100% { background-color: ","; transform: scale(1)",";  }\n\t"])),Qt.palette.background.primary,e,n,r,o,Qt.palette.background.primary,e,n,r,o,Qt.palette.color.error,Qt.palette.color.info,i,Qt.palette.color.error,Qt.palette.color.info,Qt.palette.color.error,a)}(a))||r&&e&&Object(v.b)(et||(et=Object(m.a)(["\n\t\t\t\t\ttransform: scale(0, 0);\n\t\t\t\t\tz-index: 9999;\n\t\t\t\t\tanimation: ","\n\t\t\t\t\t\tvar(--block-animation-duration) ease\n\t\t\t\t\t\tcalc(\n\t\t\t\t\t\t\t"," *\n\t\t\t\t\t\t\t\tvar(--incremental-animation-delay)\n\t\t\t\t\t\t)\n\t\t\t\t\t\tforwards;\n\t\t\t\t"])),he,n)||""})),xe=function(t){var e=t.size,n=t.top,r=t.left,a=t.color,o=t.collisionIndex,i=t.animate,c=void 0!==i&&i,l=t.fireSquare;return Object(Xt.jsx)(ke,{$size:e,$top:n,$left:r,$animate:c,$color:a,$collisionIndex:o,$fireSquare:l})},Ee=Object(d.memo)(xe),we=v.c.div(nt||(nt=Object(m.a)(["\n\twidth: ",";\n\theight: ",";\n\tborder-radius: ",";\n\tbackground-color: ",";\n\tposition: relative;\n\tbox-shadow: 0 10px 20px rgba(0, 0, 0, 0.5), 0 6px 6px rgba(0, 0, 0, 0.6);\n\ttransition: transform var(--block-animation-duration);\n\n\t","\n"])),(function(t){var e=t.$size;return"calc(".concat(Qt.game.tile.size," * ").concat(e,")")}),(function(t){var e=t.$size;return"calc(".concat(Qt.game.tile.size," * ").concat(e,")")}),Qt.shape.borderRadius,Qt.palette.background.secondary,(function(t){var e=t.$is3D,n=t.$isTopView,r="";return e&&(r+="transform-style: preserve-3d;",n||(r+="\ntransform: rotateX(-24deg) rotateY(-24deg) rotateX(90deg);")),r})),ze=function(t){var e=t.size,n=t.gameMap,r=t.is3D,a=t.isTopView,o=t.animationCounter,i=t.children,c=o!==ie(o),s=1;return Object(Xt.jsxs)(we,{$size:e,$is3D:r,$isTopView:a,children:[n.map((function(t,e){return t.map((function(t,n){var a,o=t===l.NonBreaking||t===l.Breaking;t!==b.FireCore&&t!==b.FireHorizontal&&t!==b.FireVertical||(a=t);var i=Object(z.a)({key:"".concat(e,"_").concat(n),size:E.size.tile,top:e*E.size.tile,left:n*E.size.tile,animate:c,variant:t,fireSquare:a},o&&{color:Qt.palette.color[t===l.NonBreaking?"secondary":"primary"],collisionIndex:s++});return r&&(o&&Object(Xt.jsx)(de,Object(z.a)({},i))||Object(Xt.jsx)(Ee,Object(z.a)({},i)))||Object(Xt.jsx)(Ee,Object(z.a)({},i))}))})),i]})},Ce=function(t){var e=t.children,n=Object(w.c)(_t()),r=Object(w.c)(Gt()),a=!Object(w.c)($t()),o=Object(w.c)(Object(gt.a)(qt,(function(t){return t.animationCounter})));return Object(Xt.jsx)(ze,{size:E.size.game,gameMap:n,is3D:r,isTopView:a,animationCounter:o,children:e})},Se=function(){return Ht(),Object(Xt.jsxs)(Wt,{children:[Object(Xt.jsx)(oe,{}),Object(Xt.jsx)(Ce,{children:Object(Xt.jsx)(ye,{})})]})},Te=n(12),Pe=n(29),Me=n(30),De=n(15),Re=function(t,e){Object.keys(e).forEach((function(n){t[n]=e[n]}))},Ie=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kt,e=arguments.length>1?arguments[1]:void 0;return Object(De.b)(t,(function(n){var r=function(e,r){var a=ot(e),o=a.xSquare,i=a.ySquare;try{n.gameMap[i][o]=r}catch(c){console.error("Square being set is out of boundaries",{gameMap:t.gameMap,xSquare:o,ySquare:i})}};switch(e.type){case Et:Re(n,e.payload);break;case wt:n.players.P1=Object(De.a)(xt.P1);break;case zt:var a=e.payload,o=a.animate,i=a.gameMap;n.gameMap=i,o&&n.animationCounter++;break;case Ct:var c=e.payload,s=c.playerId,u=c.newRef;if(!u)break;n.players[s].ref=Object(De.a)(u),r(t.players[s].coordinates,s);break;case Tt:var d=e.payload,f=d.playerId,p=d.direction,g=d.onComplete,m=t.is3D,v=t.players,O=t.gameMap,j=v[f];G({playerConfig:j,direction:p,is3D:m,gameMap:O},g);break;case St:var y=e.payload,h=y.playerId,k=y.newCoordinates,x=t.players[h].coordinates,w=L(x),z=w.ySquare,C=w.xSquare;t.gameMap[z][C]===h&&r(x,l.Empty),r(k,h),n.players[h].coordinates=k;break;case Pt:var S=e.payload,T=t.players[S],M=st(T);n.bombs.push(M),r(T.coordinates,b.Bomb);break;case Mt:var D=e.payload;n.bombs=n.bombs.filter((function(t){return t.id!==D}));break;case Dt:var R=e.payload,I=t.bombs.find((function(t){return t.id===R})),N={top:I.top,left:I.left},B=lt(t.gameMap,t.players,N,E.size.explosion),F=B.coordinatesToSetOnFire,q=B.playersToKill;console.log("coordinatesToSetOnFireTRIGGER: ",F);var A=F.horizontal,$=F.vertical;A.forEach((function(t){r(t,b.FireHorizontal)})),$.forEach((function(t){r(t,b.FireVertical)})),r(A[0],b.FireCore),q.forEach((function(e){delete n.players[e],r(t.players[e].coordinates,l.Empty)}));break;case Rt:var _=e.payload,V=t.bombs.find((function(t){return t.id===_})),U={top:V.top,left:V.left};n.bombs=n.bombs.filter((function(t){return t.id!==_}));var H=lt(t.gameMap,t.players,U,E.size.explosion,!0).coordinatesToSetOnFire;console.log("coordinatesToSetOnFireCOMPLETE: ",H);var X=H.horizontal,Z=H.vertical;[].concat(Object(P.a)(X),Object(P.a)(Z)).forEach((function(t){r(t,l.Empty)}));break;case It:n.animationCounter++;break;case Nt:n.is3D=!n.is3D;break;case Lt:n.isSideView=!n.isSideView;break;case Bt:if(n.players.P2){delete n.players.P2;break}n.players.P2=Object(De.a)(xt.P2);break;case Ft:if(n.players.P4){delete n.players.P4;break}n.players.P4=Object(De.a)(xt.P4)}}))},Ne=Object(Te.combineReducers)(Object(j.a)({},ht,Ie)),Le=function(t){var e=[Pe.a],n=Te.applyMiddleware.apply(void 0,e);return Object(Te.createStore)(Ne,t,Object(Me.composeWithDevTools)(n))}({});var Be=function(){return Object(Xt.jsxs)(w.a,{store:Le,children:[Object(Xt.jsx)(O,{children:Object(Xt.jsx)(Se,{})}),Object(Xt.jsx)("div",{id:"created-by-numan"}),Object(Xt.jsx)(Kt,{})]})},Fe=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),o(t),i(t)}))};g.a.render(Object(Xt.jsx)(f.a.StrictMode,{children:Object(Xt.jsx)(Be,{})}),document.getElementById("root")),Fe()}},[[47,1,2]]]);