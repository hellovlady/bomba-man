(this["webpackJsonpbomba-man"]=this["webpackJsonpbomba-man"]||[]).push([[14],{525:function(t,n,e){"use strict";e.r(n);var r=e(39),a=e(65),c=e(8),o=e(2),i=e(560),u=e(11),s=e(27),l=e(574),d=e(44),f=e(200),b=e(544),p=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],e=Object(o.useState)(!1),r=Object(a.a)(e,2),c=r[0],i=r[1];return Object(o.useEffect)((function(){n&&(Object.keys(t).length>1&&i(!0))}),[t,n]),c},j=e(557),v=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=document.createElement("textarea");r.value=t,r.style.top="0",r.style.left="0",r.style.position="fixed",document.body.appendChild(r),r.focus(),r.select();try{var a=document.execCommand("copy");if(a)return void(null===n||void 0===n||n());null===e||void 0===e||e()}catch(c){null===e||void 0===e||e()}finally{document.body.removeChild(r)}},m=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;navigator.clipboard?navigator.clipboard.writeText(t).then((function(){null===n||void 0===n||n()}),(function(){null===e||void 0===e||e()})):v(t,n,e)},O=e(199),h=e(198),g=e(549),x=e(589),y=e(6),w=function(t){return Object(y.jsx)(h.a,Object(c.a)({icon:O.c},t))},A=function(t){var n=t.gameId,e=t.game,c=t.onPlayerJoin,i=t.onStartGame,v=function(t){var n=t.game,e=t.onPlayerJoin,c=Object(u.g)().push,i=Object(o.useState)(),l=Object(a.a)(i,2),d=l[0],f=l[1];return Object(o.useEffect)((function(){var t=n.gamePlayers,a=Object.keys(t),o=a.length;if(n.started)c("".concat(s.a,"/unauthorized"),{message:"Game has already started!"});else if(o>3)c("".concat(s.a,"/unauthorized"),{message:"Game is full!"});else{var i=a.map((function(t){return Number(t.replace("P",""))})),u=[1,2,3,4].filter((function(t){return!i.includes(t)})),l="P".concat(Math.min.apply(Math,Object(r.a)(u)));e(l),f(l)}}),[]),d}({game:e,onPlayerJoin:c});Object(l.a)(n,v),function(t){var n=t.game,e=t.gameId,r=t.playerId,a=Object(u.g)().push;Object(o.useEffect)((function(){(null===n||void 0===n?void 0:n.started)&&a("".concat(s.a,"/online/").concat(e),{playerId:r})}),[null===n||void 0===n?void 0:n.started])}({game:e,gameId:n,playerId:v});var O=p(e.gamePlayers),h=function(){var t=window.location,n=t.origin+t.pathname,e=Object(o.useState)("Copy Room Link"),r=Object(a.a)(e,2),c=r[0],i=r[1];return{copyButtonText:c,onCopyText:function(){m(n),i("Copied!")}}}(),A=h.copyButtonText,k=h.onCopyText;return Object(y.jsxs)(g.a,{children:[Object(y.jsx)(b.a,{children:" Waiting Room "}),Object(y.jsx)(f.a,{}),Object(y.jsxs)(b.b,{children:["Room ID:\xa0",Object(y.jsx)("span",{style:{color:d.b.palette.color.info},children:n}),Object(y.jsx)(f.a,{}),Object(y.jsx)(j.a,{text:A,bg:"primary",onClick:k,icon:w})]}),Object(y.jsx)(x.a,{players:e.gamePlayers,onStartGame:i,canStart:O,currentOnlinePlayerId:v})]})},k=function(t){var n=t.gameId,e=Object(i.a)(n),r=e.pending,a=e.error,c=e.game,o=e.onPlayerJoin,u=e.onStartGame;return r||a||Object(y.jsx)(A,{gameId:n,game:c,onPlayerJoin:o,onStartGame:u})};n.default=function(t){var n=t.match.params.id;return Object(y.jsx)(k,{gameId:n})}},543:function(t,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return u}));var r,a,c=e(34),o=e(29),i=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(o.e)(r||(r=Object(c.a)(["\n\t0% { transform: scale(0, 0); }\n\t25% { transform: scale(0.9, 1.1); }\n\t50% { transform: scale(1.1, 0.9); }\n\t75% { transform: scale(0.95, 1.05); }\n\t100% { transform: scale(1, 1); "," }\n"])),t?"opacity: 1;":"")},u=function(t,n){return Object(o.e)(a||(a=Object(c.a)(["\n\t0%, 100% { \n\t\ttransform: translateY(0px); \n\t\tbox-shadow: 0 10px 10px #000000;\n\t}\n\t50% {\n\t\ttransform: translateY(-10px);\n\t\tbox-shadow: 0 20px ","px ",";\n\t}\n"])),Math.ceil(t/6)+10,n)}},545:function(t,n,e){"use strict";e.d(n,"c",(function(){return r})),e.d(n,"d",(function(){return a})),e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return o}));var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(n){setTimeout(n,t)}))},a=function(t){return function(n){n.currentTarget.blur(),t(n)}},c=function(t){return null===t||void 0===t},o=function(t,n){return Object.keys(t)[Object.values(t).indexOf(n)]}},546:function(t,n,e){"use strict";var r,a,c=e(34),o=e(543),i=e(29),u=i.d.div(r||(r=Object(c.a)(["\n\tposition: absolute;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\topacity: 0;\n\tsvg {\n\t\theight: 100% !important;\n\t\twidth: 100% !important;\n\t\tmax-width: 70%;\n\t\tmax-height: 80%;\n\t}\n\t","\n"])),(function(t){var n=t.$size,e=t.$animationDelay,r=t.$top,u=t.$left;return Object(i.c)(a||(a=Object(c.a)(["\n\t\ttop: ","px;\n\t\tleft: ","px;\n\t\twidth: ","px;\n\t\theight: ","px;\n\t\tanimation: "," var(--block-animation-duration)\n\t\t\t"," ease-out forwards;\n\t"])),r,u,n,n,Object(o.a)(!0),e||"")}));n.a=u},547:function(t,n,e){"use strict";var r=e(7),a=e.n(r),c=e(8),o=e(14),i=e(202),u=e(548),s=e(99),l=e(6);n.a=function(t){var n=Object(s.useFirebase)();Object(s.useFirebaseConnect)([t]);var e=function(n){return"".concat(t).concat(n||"")};return{create:function(){var t=Object(o.a)(a.a.mark((function t(){var r,o,i,u,s,l,d,f,b,p=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=p.length,o=new Array(r),i=0;i<r;i++)o[i]=p[i];if(u=o[0],s=o[1],l=o[2],d=o[3],t.prev=2,!d){t.next=9;break}return t.next=6,n.uniqueSet(e("".concat(s||"","/").concat(d)),Object(c.a)({},u));case 6:b=t.sent,t.next=12;break;case 9:return t.next=11,n.push(e(s),u);case 11:b=t.sent;case 12:return null===l||void 0===l||null===(f=l.onSuccess)||void 0===f||f.call(l,b),t.abrupt("return",b);case 16:return t.prev=16,t.t0=t.catch(2),(null===l||void 0===l?void 0:l.onError)&&l.onError(t.t0),t.abrupt("return",t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(){return t.apply(this,arguments)}}(),read:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n[0],a=!Object(s.isLoaded)(r)&&Object(l.jsx)(i.default,{}),c=Object(s.isEmpty)(r)&&Object(l.jsx)(u.a,{});return{state:r,pending:a,error:c}},update:function(){var t=Object(o.a)(a.a.mark((function t(){var r,c,o,i,u,s,l,d,f=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=f.length,c=new Array(r),o=0;o<r;o++)c[o]=f[o];return i=c[0],u=c[1],s=c[2],t.prev=2,t.next=5,n.update(e(u),i);case 5:return d=t.sent,null===s||void 0===s||null===(l=s.onSuccess)||void 0===l||l.call(s,d),t.abrupt("return",d);case 10:return t.prev=10,t.t0=t.catch(2),(null===s||void 0===s?void 0:s.onError)&&s.onError(t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),push:function(){var t=Object(o.a)(a.a.mark((function t(){var r,c,o,i,u,s,l,d,f=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=f.length,c=new Array(r),o=0;o<r;o++)c[o]=f[o];return i=c[0],u=c[1],s=c[2],t.prev=2,t.next=5,n.push(e(u),i);case 5:return d=t.sent,null===s||void 0===s||null===(l=s.onSuccess)||void 0===l||l.call(s,d),t.abrupt("return",d);case 10:return t.prev=10,t.t0=t.catch(2),(null===s||void 0===s?void 0:s.onError)&&s.onError(t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),remove:function(){var t=Object(o.a)(a.a.mark((function t(){var r,c,o,i,u,s,l,d=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=d.length,c=new Array(r),o=0;o<r;o++)c[o]=d[o];return i=c[0],u=c[1],t.prev=2,t.next=5,n.remove(e(i));case 5:return l=t.sent,null===u||void 0===u||null===(s=u.onSuccess)||void 0===s||s.call(u,l),t.abrupt("return",l);case 10:return t.prev=10,t.t0=t.catch(2),(null===u||void 0===u?void 0:u.onError)&&u.onError(t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}()}}},548:function(t,n,e){"use strict";e.d(n,"a",(function(){return f}));var r,a=e(34),c=e(549),o=e(544),i=e(44),u=e(29),s=e(200),l=e(6),d=Object(u.d)(o.a)(r||(r=Object(a.a)(["\n\tcolor: ",";\n"])),i.b.palette.color.error),f=function(t){var n=t.children,e=t.message,r=void 0===e?"Either the game is not found or you don't have access to it.":e;return Object(l.jsxs)(c.a,{children:[Object(l.jsx)(s.a,{spacing:"5"}),Object(l.jsx)(d,{children:r}),Object(l.jsx)(s.a,{spacing:"10"}),n]})}},550:function(t,n,e){"use strict";e.d(n,"g",(function(){return b})),e.d(n,"b",(function(){return p})),e.d(n,"f",(function(){return j})),e.d(n,"c",(function(){return v})),e.d(n,"i",(function(){return m})),e.d(n,"j",(function(){return O})),e.d(n,"h",(function(){return h})),e.d(n,"d",(function(){return g})),e.d(n,"a",(function(){return y})),e.d(n,"k",(function(){return A})),e.d(n,"e",(function(){return w}));var r,a=e(64),c=e(34),o=e(8),i=e(199),u=e(198),s=(e(552),e(555)),l=e(29),d=e(562),f=e(6),b=function(t){return Object(f.jsx)(u.a,Object(o.a)({icon:i.f},t))},p=function(t){return Object(f.jsx)(u.a,Object(o.a)({icon:i.d},t))},j=function(t){return Object(f.jsx)(u.a,Object(o.a)({icon:i.o},t))},v=function(t){return Object(f.jsx)(u.a,Object(o.a)({icon:i.e},t))},m=function(t){return Object(f.jsx)(u.a,Object(o.a)({icon:i.n},t))},O=function(t){return Object(f.jsx)(u.a,Object(o.a)({icon:i.p},t))},h=function(t){return Object(f.jsx)(u.a,Object(o.a)({icon:i.l},t))},g=function(t){return Object(f.jsx)(u.a,Object(o.a)({icon:i.g},t))},x=l.d.div(r||(r=Object(c.a)(["\n\tposition: relative;\n\tpointer-events: none;\n\tmin-width: 50px;\n\n\t","\n\n\t","\n"])),(function(t){var n=t.$showName,e=t.$color;return"\n\t\t\t.name {\n\t\t\t\t".concat(n?"":"display: none;","\n\t\t\t\t").concat(e?"background-color: ".concat(e," !important;"):"","\n\t\t\t\t\n\t\t\t}\n\t\t")}),(function(t){var n=t.$size;return"\n\t\t\twidth: ".concat(n,"px;\n\t\t\theight: ").concat(n,"px;\n\n\t\t\t> div {\n\t\t\t\t/* Gotta override as char is taking coordinates by default */\n\t\t\t\ttop: ").concat(n/2,"px !important;\n\t\t\t\tleft: calc(50% - ").concat(n,"px / 2) !important;\n\t\t\t}\n\t\t")})),y=function(t){var n=t.size,e=t.showName,r=void 0!==e&&e,c=t.color,i=Object(a.a)(t,["size","showName","color"]);return Object(f.jsx)(x,{$size:n,$showName:r,$color:c,children:Object(f.jsx)(s.a,Object(o.a)({coordinates:{top:0,left:0},id:"P1",name:"Bomba-man",isNPC:!0,size:n},i))})},w={fontSize:40,width:50},A=Object(d.a)(w)},552:function(t,n,e){"use strict";var r=e(8),a=e(198),c=e(199),o=e(44),i=e(2),u=e(546),s=e(6),l=function(t){return Object(s.jsx)(a.a,Object(r.a)({icon:c.b},t))};n.a=function(t){var n=t.id,e=t.size,r=t.explodingDuration,a=t.coordinates,c=a.top,d=a.left,f=t.onDeathAnimationComplete;return Object(i.useEffect)((function(){setTimeout((function(){null===f||void 0===f||f(n)}),1e3*r+1e3)}),[]),Object(s.jsx)(u.a,{$top:c,$left:d,$size:e,$animationDelay:"".concat(r,"s"),children:Object(s.jsx)(l,{color:o.b.palette.color.default})})}},553:function(t,n,e){},554:function(t,n,e){"use strict";var r,a=e(9),c=e(8),o=e(198),i=e(199),u=e(4),s=e(44),l=e(6),d=(r={},Object(a.a)(r,u.j.Life,{color:s.b.palette.color.success,icon:function(t){return Object(l.jsx)(o.a,Object(c.a)({icon:i.h},t))}}),Object(a.a)(r,u.j.BombCount,{color:s.b.palette.color.error,icon:function(t){return Object(l.jsx)(o.a,Object(c.a)({icon:i.a},t))}}),Object(a.a)(r,u.j.BombSize,{color:s.b.palette.color.warning,icon:function(t){return Object(l.jsx)(o.a,Object(c.a)({icon:i.k},t))}}),Object(a.a)(r,u.j.MovementSpeed,{color:s.b.palette.color.info,icon:function(t){return Object(l.jsx)(o.a,Object(c.a)({icon:i.m},t))}}),r);n.a=d},555:function(t,n,e){"use strict";var r,a,c=e(8),o=e(65),i=e(64),u=e(34),s=e(4),l=e(2),d=e(12),f=e(29),b=e(44),p=(e(553),e(6)),j=f.d.div(r||(r=Object(u.a)(["\n\t","\n"])),(function(t){var n=t.$size,e=t.$name,r=n/32,c=32*r,o=4*c,i=-1*r*32,s=n/4*-1,l=Math.min(-15,2.5*s),d=Math.min(30,Math.ceil(c/6)),p=Math.floor(c/10),j=Math.floor(20*e.length+c*r/10),v="\n\t\t\twidth: ".concat(c,"px;\n\t\t\theight: ").concat(c,"px;\n\t\t"),m="\n\t\t\twidth: ".concat(o,"px;\n\t\t\theight: ").concat(o,"px;\n\t\t");return Object(f.c)(a||(a=Object(u.a)(["\n\t\t\tposition: absolute;\n\t\t\tz-index: 9999;\n\t\t\t",";\n\t\t\ttransition-duration: 450ms;\n\n\t\t\t&#P1 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t\t&#P2 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t\t&#P3 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t\t&#P4 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\n\t\t\t.character {\n\t\t\t\ttop: ","px;\n\t\t\t\ttransform: translate(","px);\n\n\t\t\t\t",";\n\t\t\t\toverflow: hidden;\n\t\t\t\tposition: relative;\n\t\t\t\t/* MOVEMENT TRANSITION */\n\t\t\t\ttransition-duration: 400ms;\n\n\t\t\t\t& .name {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\ttop: ","px;\n\t\t\t\t\tfont-size: ","px;\n\t\t\t\t\tmax-width: ","px;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tborder: 1px dashed white;\n\t\t\t\t\tborder-radius: 9999px;\n\t\t\t\t\topacity: 1;\n\t\t\t\t\tmargin: auto;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t& .shadow {\n\t\t\t\t\t",";\n\t\t\t\t\topacity: 0.75;\n\t\t\t\t}\n\n\t\t\t\t& .spritesheet {\n\t\t\t\t\t",";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t}\n\n\t\t\t\t/* DIRECTION */\n\t\t\t\t&[data-facing='Right'] .spritesheet {\n\t\t\t\t\ttop: ","px;\n\t\t\t\t}\n\t\t\t\t&[data-facing='Up'] .spritesheet {\n\t\t\t\t\ttop: ","px;\n\t\t\t\t}\n\t\t\t\t&[data-facing='Left'] .spritesheet {\n\t\t\t\t\ttop: ","px;\n\t\t\t\t}\n\n\t\t\t\t&[data-walking='true'] {\n\t\t\t\t\t/* MOVEMENT ANIMATION */\n\t\t\t\t\t.spritesheet {\n\t\t\t\t\t\tanimation: walkAnimation 0.6s steps(4) infinite;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* SHADOW ANIMATION */\n\t\t\t\t\t.shadow {\n\t\t\t\t\t\tanimation: shadowAnimation 0.3s infinite;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* HIGHLIGHT/DAMAGE ANIMATION */\n\t\t\t\t&[data-highlight='true'] .spritesheet {\n\t\t\t\t\tanimation: opacityAnimation 0.6s steps(4) infinite;\n\t\t\t\t}\n\t\t\t}\n\t\t"])),v,b.b.palette.color.warning,b.b.palette.color.info,b.b.palette.color.success,b.b.palette.color.error,l,s,v,p,d,j,v,m,1*i,2*i,3*i)})),v=function(t){var n=t.id,e=t.shouldBindEvent,r=t.keyboardConfig,a=t.onPlayerIsWalking,c=t.setDirection,o=t.setIsWalking,i=Object(l.useRef)((new Date).getTime());Object(l.useEffect)((function(){var t=function(t){if(e){var u=function(t){return r?Object(d.j)(t.code,r):null}(t);if(!u)return null===a||void 0===a||a(!1,n),void o(!1);i.current=(new Date).getTime(),o(!0),function(t){c(t)}(u)}},u=function(){e&&setTimeout((function(){var t=(new Date).getTime()-200;i.current>=t||(o(!1),null===a||void 0===a||a(!1,n))}),200)};return e&&(document.addEventListener("keydown",t),document.addEventListener("keyup",u)),function(){document.removeEventListener("keydown",t),document.removeEventListener("keyup",u)}}),[n,r,a,c,o,e])};n.a=function(t){var n=t.id,e=t.currentOnlinePlayerId,r=t.name,a=t.coordinates,u=a.top,d=a.left,f=t.style,b=t.keyboardConfig,m=t.highlight,O=t.size,h=t.onPlayerIsWalking,g=t.isWalking,x=void 0!==g&&g,y=t.direction,w=void 0===y?s.b.DOWN:y,A=t.isNPC,k=void 0!==A&&A,S=Object(i.a)(t,["id","currentOnlinePlayerId","name","coordinates","style","keyboardConfig","highlight","size","onPlayerIsWalking","isWalking","direction","isNPC"]),I=Object(l.useState)(w),P=Object(o.a)(I,2),E=P[0],N=P[1],C=Object(l.useState)(x),T=Object(o.a)(C,2),R=T[0],z=T[1],D=!k&&(!e||n===e);v({id:n,currentOnlinePlayerId:e,keyboardConfig:b,shouldBindEvent:D,onPlayerIsWalking:h,setDirection:N,setIsWalking:z});var M=x,G=w;return D&&(M=R,G=E),Object(p.jsx)(j,Object(c.a)(Object(c.a)({id:n,style:Object(c.a)(Object(c.a)({},f),{},{top:u,left:d}),className:"character-wrapper"},S),{},{$size:2*O,$name:r,children:Object(p.jsxs)("div",{className:"character","data-facing":G,"data-walking":M.toString(),"data-highlight":m,children:[Object(p.jsx)("div",{className:"name",children:r}),Object(p.jsx)("img",{className:"shadow pixel-art",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAWUlEQVRYR+3XsQkAIAxEUe2cRXADx3cDwVksJYX970T41sE7Xqrk9Pjlx/nJAgoooIACCiiggAIKKKDAXwKt9k0uqblGIXMxgwVo+A2mJSyABYKWroHyx58Hv0cUIWfm8TkAAAAASUVORK5CYII=",alt:"sprite skin"}),Object(p.jsx)("img",{className:"spritesheet pixel-art",src:"data:image/png;base64,UklGRuYBAABXRUJQVlA4TNkBAAAvf8AfEDegkI0kaB1Wc63vv4M4DQUByDA6SKk4ex2mqG0bqCCKrfwp7N5em/8A4P9XnTtjLpKQBLi1tbdt/gbqnTCAN/D5RCygH6yhQ4C1GfefQQG/fjA4FhH9Z9i2bZjkAbZdhsAn0N9Qh3Rps6Tr7enSZ9lZ1PV+6bPsLO4q4Fj1ORugiqJzAdemHQCwqMszM8vOoq4wzXNrso4rVOW6YeXnwAFDfg66i/MBl3QOm5+DDrAmX0BjNK5QAfYsOYVzJHCjcr1VjGTyTmZhrj2PUeUKvuZIeWc7iQ6TdK4URIcJSXIQyS75V0Q70f+F9g48tFcs4Nq6A4Vd69w7RGdRF4UBhmRnWZd1wlhZB3tQuabj0JFQXb4+n2pMKlfoeHgRzhW9cK7ZcyKVa2Kehcn3SWRURueqkpdcSWIEE0jv+ne4d0DeKxZw7a5jV/aO4IDByDlGSZe/VvYc1dUpu+RzNrlqa+ZxyrtOPESNyzs+5s9FtbRGUT2mUeUKdapHZe4wkzZ3oH+muYNvAMjO8q5tO7CMS7MHeJRxrSt3gHsgVzBlXYOUG3QYOtK4yLpTq8oVqMX4dFDlEh+OrVHlConjTLpcgrklARpJcDYpKl0xNco1wgRTwLUPTQA=",alt:"sprite skin"})]})}))}},560:function(t,n,e){"use strict";var r=e(8),a=e(9),c=e(99),o=e(203),i=e(565),u=function(t){return t.firebase},s=e(12),l=e(202),d=e(548),f=e(20),b=e(53),p=e(4),j=e(547),v=e(561),m=e(6),O=Object(f.a)((function(){return Promise.all([e.e(4),e.e(18)]).then(e.bind(null,511))}));n.a=function(t){var n,e,f,h="online/".concat(t);Object(c.useFirebaseConnect)({path:h,queryParams:["limitToFirst=1"]});var g=Object(j.a)(h),x=g.update,y=g.remove,w=Object(v.a)().removeOnlineGame,A=Object(o.c)(Object(i.a)(u,(function(t){return t.data.online}))),k=null===A||void 0===A?void 0:A[t],S=!Object(c.isLoaded)(A)&&Object(m.jsx)(l.default,{}),I=Object(c.isEmpty)(A,null===k||void 0===k?void 0:k.gameState)&&Object(m.jsx)(d.a,{children:Object(m.jsx)(O,{noWrapper:!0})});return{game:Object(r.a)(Object(r.a)({},k),{},{gameState:Object(r.a)(Object(r.a)({},(null===k||void 0===k?void 0:k.gameState)||{}),{},{players:(null===k||void 0===k||null===(n=k.gameState)||void 0===n?void 0:n.players)||{},bombs:(null===k||void 0===k||null===(e=k.gameState)||void 0===e?void 0:e.bombs)||{},powerUps:(null===k||void 0===k||null===(f=k.gameState)||void 0===f?void 0:f.powerUps)||{}}),gamePlayers:(null===k||void 0===k?void 0:k.gamePlayers)||{},gameId:(null===k||void 0===k?void 0:k.gameId)||t,started:(null===k||void 0===k?void 0:k.started)||!1}),pending:S,error:I,isReady:!S&&!I,onPlayerJoin:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];x(Object(a.a)({},t,p.i.Alive),"/gamePlayers");var e=Object(s.d)(t,k.gameState.config,!n&&b.a.keyboardConfig||null);x(e,"/gameState/players/".concat(t))},onPlayerExit:function(n){(y("/gamePlayers/".concat(n)),y("/gameState/players/".concat(n)),null===k||void 0===k?void 0:k.gamePlayers)&&(Object.keys(k.gamePlayers).length<=1&&w(t))},onStartGame:function(){x({started:!0})},onEndGame:function(){x({started:!1,gamePlayers:{}})},onPlayerDeath:function(n){t&&x(Object(a.a)({},n,p.i.Dead),"/gamePlayers")}}}},561:function(t,n,e){"use strict";var r=e(7),a=e.n(r),c=e(14),o=e(99),i=e(576),u={dictionaries:[i.b,i.a],separator:"-"},s=function(){return Object(i.c)(u)},l=e(547);n.a=function(){var t="online";Object(o.useFirebaseConnect)(t);var n=Object(l.a)(t),e=n.create,r=n.update,i=n.remove,u=function(){var t=Object(c.a)(a.a.mark((function t(n){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=s(),t.next=3,e({gameState:n,started:!1},void 0,void 0,c);case 3:if(!t.sent.key){t.next=8;break}return t.next=7,r({gameId:c},"/".concat(c));case 7:return t.abrupt("return",c);case 8:return t.abrupt("return",null);case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),d=function(){var t=Object(c.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r({gameState:e,gamePlayers:{},started:!1},"/".concat(n));case 2:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}();return{createOnlineGame:u,removeOnlineGame:function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i("/".concat(n));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),restartOnlineGame:d}}},562:function(t,n,e){"use strict";e.d(n,"a",(function(){return f})),e.d(n,"b",(function(){return b}));var r=e(39),a=e(8),c=e(4),o=e(554),i=e(545),u=e(556),s=e(563),l=e(550),d=e(6),f=function(t){return Object.values(c.j).reduce((function(n,e){var r=o.a[e],a=r.icon,c=r.color;return n[e]={icon:Object(d.jsx)(a,{style:t}),color:c},n}),{})},b=function(t,n,e){return Object.values(c.j).map((function(o){var d="".concat(Object(i.b)(c.j,o));return Object(a.a)(Object(a.a)({type:u.a.Rating,label:"".concat(d," (number)"),name:"".concat(t,".").concat(o),max:n},l.k[o]),e&&o===c.j.MovementSpeed&&{label:"".concat(d," (action interval, milliseconds)"),type:u.a.Slider,step:null,min:Math.min.apply(Math,Object(r.a)(e)),max:Math.max.apply(Math,Object(r.a)(e)),marks:Object(s.a)(e)})}))}},563:function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var r=e(8);function a(t,n){if(Array.isArray(t))return t.map((function(t){return{value:t,label:t}}));var e=n-t;return Array(e+1).fill(0).map((function(n,a){var c=t+a;return Object(r.a)({value:c},(0===a||a===e)&&{label:c})}))}},565:function(t,n,e){"use strict";function r(t,n){return t===n}function a(t,n,e){if(null===n||null===e||n.length!==e.length)return!1;for(var r=n.length,a=0;a<r;a++)if(!t(n[a],e[a]))return!1;return!0}function c(t){var n=Array.isArray(t[0])?t[0]:t;if(!n.every((function(t){return"function"===typeof t}))){var e=n.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+e+"]")}return n}e.d(n,"a",(function(){return o}));var o=function(t){for(var n=arguments.length,e=Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=0,i=r.pop(),u=c(r),s=t.apply(void 0,[function(){return o++,i.apply(null,arguments)}].concat(e)),l=t((function(){for(var t=[],n=u.length,e=0;e<n;e++)t.push(u[e].apply(null,arguments));return s.apply(null,t)}));return l.resultFunc=i,l.dependencies=u,l.recomputations=function(){return o},l.resetRecomputations=function(){return o=0},l}}((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,e=null,c=null;return function(){return a(n,e,arguments)||(c=t.apply(null,arguments)),e=arguments,c}}))},574:function(t,n,e){"use strict";var r=e(2),a=e(11),c=e(27),o=e(560),i=function(){return null},u=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;Object(r.useEffect)((function(){return window.addEventListener("beforeunload",t),window.addEventListener("unload",n),function(){window.removeEventListener("beforeunload",t),window.removeEventListener("unload",n)}}))},s=["online","waiting-room","game-end"];n.a=function(t,n){var e=Object(o.a)(t).onPlayerExit,i=Object(a.g)().listen;u((function(){n&&t&&e(n)})),Object(r.useEffect)((function(){return i((function(r){var a=r.pathname;n&&(s.some((function(n){return a.startsWith("".concat(c.a,"/").concat(n,"/").concat(t))}))||e(n))}))}),[t,i,e,n])}},589:function(t,n,e){"use strict";var r,a,c=e(65),o=e(8),i=e(34),u=e(550),s=e(657),l=e(663),d=e(558),f=e(200),b=e(557),p=e(4),j=e(29),v=e(543),m=e(44),O=e(2),h=e(6),g=Object(j.d)(u.d)(r||(r=Object(i.a)(["\n\t","\n"])),(function(t){var n=t.$size,e=t.$playerId,r=m.b.palette.color,c=[r.warning,r.info,r.success,r.error][Number(e.replace("P",""))-1];return Object(j.c)(a||(a=Object(i.a)(["\n\t\t\tfont-size: ","px;\n\t\t\tanimation: "," 3s infinite;\n\t\t\tborder-radius: 50%;\n\t\t"])),n,Object(v.b)(n,c))})),x=function(t){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f.a,{spacing:"5"}),Object(h.jsx)(d.a,{container:!0,children:Object(h.jsx)(s.a,{container:!0,justify:"center",item:!0,xs:12,sm:4,children:Object(h.jsx)(b.a,Object(o.a)({fullWidth:!0,bg:"primary",variant:"contained"},t))})})]})};n.a=function(t){var n=t.players,e=t.currentOnlinePlayerId,r=t.onStartGame,a=t.isGameEnd,i=void 0!==a&&a,b=t.canStart,j=void 0!==b&&b,v=Object(l.a)((function(t){return t.breakpoints.down("xs")})),m=Object(O.useState)(!1),y=Object(c.a)(m,2),w=y[0],A=y[1];return Object(h.jsxs)(d.a,{container:!0,children:["P1"===e&&Object(h.jsx)(x,{text:i?"Restart":"Start",onClick:function(){A(!0);try{null===r||void 0===r||r()}catch(t){alert(t.message),A(!1)}},pending:w,disabled:!j||w}),Object(h.jsx)(f.a,{spacing:v?5:10}),Object(h.jsx)(s.a,{container:!0,justify:"space-between",item:!0,xs:10,md:9,lg:8,children:Object.keys(n||{}).sort().map((function(t,r){var a=e===t,c=i&&n[t]===p.i.Dead,l=50,d=!1;(!a||i&&c)&&(a||!i||c)||(l=80,d=!0);var b={key:t,size:l,name:t,id:t,showName:!0,isWalking:d};return Object(h.jsxs)(s.a,{container:!0,justify:"center",alignItems:"flex-end",item:!0,xs:6,sm:3,children:[v&&0!==r&&Object(h.jsx)(f.a,{spacing:"10"}),c?Object(h.jsx)(g,{id:t,$size:l,$playerId:t}):Object(h.jsx)(u.a,Object(o.a)({},b))]},t)}))}),Object(h.jsx)(f.a,{spacing:"5"})]})}}}]);