(this["webpackJsonpbomba-man"]=this["webpackJsonpbomba-man"]||[]).push([[16],{521:function(t,e,n){"use strict";n.r(e);var r=n(9),a=n(65),o=n(34),i=n(8),c=n(53),s=n(549),l=n(199),u=n(198),d=n(544),b=n(657),f=n(3),p=n(19),j=n(2),m=(n(5),n(541)),v=n(197),O=j.forwardRef((function(t,e){var n=t.classes,r=t.className,a=t.component,o=void 0===a?"div":a,i=Object(p.a)(t,["classes","className","component"]);return j.createElement(o,Object(f.a)({ref:e,className:Object(m.a)(n.root,r)},i))})),g=Object(v.a)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(O);var h=j.createContext(),y="table",x=j.forwardRef((function(t,e){var n=t.classes,r=t.className,a=t.component,o=void 0===a?y:a,i=t.padding,c=void 0===i?"default":i,s=t.size,l=void 0===s?"medium":s,u=t.stickyHeader,d=void 0!==u&&u,b=Object(p.a)(t,["classes","className","component","padding","size","stickyHeader"]),v=j.useMemo((function(){return{padding:c,size:l,stickyHeader:d}}),[c,l,d]);return j.createElement(h.Provider,{value:v},j.createElement(o,Object(f.a)({role:o===y?null:"table",ref:e,className:Object(m.a)(n.root,r,d&&n.stickyHeader)},b)))})),k=Object(v.a)((function(t){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":Object(f.a)({},t.typography.body2,{padding:t.spacing(2),color:t.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(x);var w,I=j.createContext(),A={variant:"head"},N="thead",C=j.forwardRef((function(t,e){var n=t.classes,r=t.className,a=t.component,o=void 0===a?N:a,i=Object(p.a)(t,["classes","className","component"]);return j.createElement(I.Provider,{value:A},j.createElement(o,Object(f.a)({className:Object(m.a)(n.root,r),ref:e,role:o===N?null:"rowgroup"},i)))})),E=Object(v.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(C),M=n(102),T=j.forwardRef((function(t,e){var n=t.classes,r=t.className,a=t.component,o=void 0===a?"tr":a,i=t.hover,c=void 0!==i&&i,s=t.selected,l=void 0!==s&&s,u=Object(p.a)(t,["classes","className","component","hover","selected"]),d=j.useContext(I);return j.createElement(o,Object(f.a)({ref:e,className:Object(m.a)(n.root,r,d&&{head:n.head,footer:n.footer}[d.variant],c&&n.hover,l&&n.selected),role:"tr"===o?null:"row"},u))})),D=Object(v.a)((function(t){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:t.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:Object(M.b)(t.palette.secondary.main,t.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(T),P=n(542),B=j.forwardRef((function(t,e){var n,r,a=t.align,o=void 0===a?"inherit":a,i=t.classes,c=t.className,s=t.component,l=t.padding,u=t.scope,d=t.size,b=t.sortDirection,v=t.variant,O=Object(p.a)(t,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),g=j.useContext(h),y=j.useContext(I),x=y&&"head"===y.variant;s?(r=s,n=x?"columnheader":"cell"):r=x?"th":"td";var k=u;!k&&x&&(k="col");var w=l||(g&&g.padding?g.padding:"default"),A=d||(g&&g.size?g.size:"medium"),N=v||y&&y.variant,C=null;return b&&(C="asc"===b?"ascending":"descending"),j.createElement(r,Object(f.a)({ref:e,className:Object(m.a)(i.root,i[N],c,"inherit"!==o&&i["align".concat(Object(P.a)(o))],"default"!==w&&i["padding".concat(Object(P.a)(w))],"medium"!==A&&i["size".concat(Object(P.a)(A))],"head"===N&&g&&g.stickyHeader&&i.stickyHeader),"aria-sort":C,role:n,scope:k},O))})),S=Object(v.a)((function(t){return{root:Object(f.a)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===t.palette.type?Object(M.d)(Object(M.b)(t.palette.divider,1),.88):Object(M.a)(Object(M.b)(t.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:t.palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},body:{color:t.palette.text.primary},footer:{color:t.palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:t.palette.background.default}}}),{name:"MuiTableCell"})(B),R={variant:"body"},z="tbody",U=j.forwardRef((function(t,e){var n=t.classes,r=t.className,a=t.component,o=void 0===a?z:a,i=Object(p.a)(t,["classes","className","component"]);return j.createElement(I.Provider,{value:R},j.createElement(o,Object(f.a)({className:Object(m.a)(n.root,r),ref:e,role:o===z?null:"rowgroup"},i)))})),q=Object(v.a)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(U),H=n(659),$=n(593),K=n(29),L=n(550),W=n(200),V=n(44),G=n(40),Q=n(573),X=n(4),Y=n(6),F=function(t){return Object(Y.jsx)(u.a,Object(i.a)({icon:l.j},t))},Z=Object(K.d)($.a)(w||(w=Object(o.a)(["\n\tborder: 2px solid;\n\tborder-radius: 4px;\n\tpadding: 10px;\n\tfont-weight: bold;\n\theight: 45px;\n\ttransition: 0.3s;\n\n\t","\n"])),(function(t){var e=t.$length,n=t.$size,r=t.$isPressed;return"\n\t\t\theight: ".concat(n,"px;\n\t\t\twidth: ").concat(n*e,"px;\n\t\t\t").concat(r?"\n\t\t\t\t\t\tbackground: white;\n\t\t\t\t\t\tcolor: ".concat(V.b.palette.background.primary,";\n\t\t\t\t\t\tborder: 2px dashed ").concat(V.b.palette.background.primary,";\n\t\t\t\t"):"","\n\t\t")})),J=function(t){var e=t.children,n=t.size,r=void 0===n?45:n,a=t.length,o=void 0===a?1:a,i=t.isPressed;return Object(Y.jsx)(Z,{$length:o,$size:r,$isPressed:i,children:e})},_=function(t){var e=t.keyboardConfig,n=e.DropBomb,o=e.MoveDown,c=e.MoveLeft,s=e.MoveRight,l=e.MoveUp,u=n.label.length>1?3:1,d=Object(j.useState)({}),f=Object(a.a)(d,2),p=f[0],m=f[1];return Object(Q.b)({onKeyDown:function(t){m((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(r.a)({},t,!0))}))},onKeyUp:function(t){m((function(e){return Object(i.a)(Object(i.a)({},e),{},Object(r.a)({},t,!1))}))}}),Object(Y.jsxs)(b.a,{container:!0,children:[Object(Y.jsxs)(b.a,{container:!0,style:{width:135},children:[Object(Y.jsx)(b.a,{container:!0,item:!0,xs:12,justify:"center",children:Object(Y.jsx)(J,{isPressed:p[l.keyCode],children:l.label})}),Object(Y.jsx)(b.a,{container:!0,item:!0,xs:12,children:[c,o,s].map((function(t){var e=t.label,n=t.keyCode;return Object(Y.jsx)(J,{isPressed:p[n],children:e},e)}))})]}),Object(Y.jsx)(b.a,{style:{width:10}}),Object(Y.jsx)(b.a,{container:!0,style:{width:135},justify:"center",alignItems:"flex-end",children:Object(Y.jsx)(J,{isPressed:p[n.keyCode],length:u,children:n.label})})]})},tt=function(t){var e=t.keyboardConfig,n=t.playerId,r=t.side,a="left"===(void 0===r?"left":r),o=Number(n.replace("P",""))-1;return Object(Y.jsxs)(b.a,{container:!0,xs:12,justify:"center",children:[Object(Y.jsx)(b.a,Object(i.a)(Object(i.a)({item:!0},!a&&{style:{order:3}}),{},{children:Object(Y.jsx)(L.a,{size:80,name:n,id:n,showName:!0,isWalking:!0,isNPC:!1,keyboardConfig:{0:c.a.keyboardConfig[o]}})})),Object(Y.jsx)(b.a,{item:!0,children:Object(Y.jsx)(_,{keyboardConfig:e})})]})},et=[{MoveUp:{label:"W",keyCode:G.j},MoveRight:{label:"D",keyCode:G.b},MoveDown:{label:"S",keyCode:G.f},MoveLeft:{label:"A",keyCode:G.a},DropBomb:{label:"Space",keyCode:G.h}},{MoveUp:{label:"\u2191",keyCode:G.i},MoveRight:{label:"\u2192",keyCode:G.e},MoveDown:{label:" \u2193",keyCode:G.c},MoveLeft:{label:"\u2190",keyCode:G.d},DropBomb:{label:";",keyCode:G.g}}],nt=[{powerUp:X.j.Life,description:"Increases the life count."},{powerUp:X.j.BombCount,description:"Increases the number of bombs a player can drop."},{powerUp:X.j.BombSize,description:"Increases the size of the bomb explosion range."},{powerUp:X.j.MovementSpeed,description:"Decreases the time it takes to make a move."}],rt=function(){return Object(Y.jsx)(g,{children:Object(Y.jsxs)(k,{"aria-label":"power-up-table",children:[Object(Y.jsx)(E,{children:Object(Y.jsxs)(D,{children:[Object(Y.jsx)(S,{children:"Power Up"}),Object(Y.jsx)(S,{children:"Description"})]})}),Object(Y.jsx)(q,{children:nt.map((function(t){var e=t.powerUp,n=t.description,r=L.k[e],a=r.icon,o=r.color;return Object(Y.jsxs)(D,{children:[Object(Y.jsx)(S,{component:"th",scope:"row",children:Object(j.cloneElement)(a,{color:o})}),Object(Y.jsx)(S,{children:n})]},e)}))})]})})},at=function(){return Object(Y.jsxs)(b.a,{container:!0,justify:"center",children:[["NOTE1: In an online game, you can use both setup","NOTE2: You can test the key-press on this screen"].map((function(t){return Object(Y.jsx)(H.a,{variant:"body2",align:"left",style:{width:"80%"},children:t},t)})),et.map((function(t,e){var n="P".concat(e+1);return Object(Y.jsxs)(j.Fragment,{children:[Object(Y.jsx)(W.a,{spacing:"8"}),Object(Y.jsx)(tt,{playerId:n,keyboardConfig:t})]},n)}))]})};e.default=function(){return Object(Y.jsxs)(s.a,{style:{overflow:"hidden"},children:[Object(Y.jsxs)(b.a,{container:!0,justify:"center",alignItems:"center",children:[Object(Y.jsx)(F,{size:"3x"})," \xa0\xa0",Object(Y.jsx)(d.a,{children:" Instructions "})]}),Object(Y.jsx)(b.a,{container:!0,justify:"center",alignItems:"center",children:[Object(Y.jsx)(at,{}),Object(Y.jsx)(rt,{})].map((function(t,e){return Object(Y.jsxs)(b.a,{item:!0,xs:12,md:6,children:[Object(Y.jsx)(W.a,{spacing:"3"}),t]},e)}))})]})}},543:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s}));var r,a,o=n(34),i=n(29),c=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(i.e)(r||(r=Object(o.a)(["\n\t0% { transform: scale(0, 0); }\n\t25% { transform: scale(0.9, 1.1); }\n\t50% { transform: scale(1.1, 0.9); }\n\t75% { transform: scale(0.95, 1.05); }\n\t100% { transform: scale(1, 1); "," }\n"])),t?"opacity: 1;":"")},s=function(t,e){return Object(i.e)(a||(a=Object(o.a)(["\n\t0%, 100% { \n\t\ttransform: translateY(0px); \n\t\tbox-shadow: 0 10px 10px #000000;\n\t}\n\t50% {\n\t\ttransform: translateY(-10px);\n\t\tbox-shadow: 0 20px ","px ",";\n\t}\n"])),Math.ceil(t/6)+10,e)}},545:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){setTimeout(e,t)}))},a=function(t){return function(e){e.currentTarget.blur(),t(e)}},o=function(t){return null===t||void 0===t},i=function(t,e){return Object.keys(t)[Object.values(t).indexOf(e)]}},546:function(t,e,n){"use strict";var r,a,o=n(34),i=n(543),c=n(29),s=c.d.div(r||(r=Object(o.a)(["\n\tposition: absolute;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\topacity: 0;\n\tsvg {\n\t\theight: 100% !important;\n\t\twidth: 100% !important;\n\t\tmax-width: 70%;\n\t\tmax-height: 80%;\n\t}\n\t","\n"])),(function(t){var e=t.$size,n=t.$animationDelay,r=t.$top,s=t.$left;return Object(c.c)(a||(a=Object(o.a)(["\n\t\ttop: ","px;\n\t\tleft: ","px;\n\t\twidth: ","px;\n\t\theight: ","px;\n\t\tanimation: "," var(--block-animation-duration)\n\t\t\t"," ease-out forwards;\n\t"])),r,s,e,e,Object(i.a)(!0),n||"")}));e.a=s},550:function(t,e,n){"use strict";n.d(e,"g",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"f",(function(){return j})),n.d(e,"c",(function(){return m})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return O})),n.d(e,"h",(function(){return g})),n.d(e,"d",(function(){return h})),n.d(e,"a",(function(){return x})),n.d(e,"k",(function(){return w})),n.d(e,"e",(function(){return k}));var r,a=n(64),o=n(34),i=n(8),c=n(199),s=n(198),l=(n(552),n(555)),u=n(29),d=n(562),b=n(6),f=function(t){return Object(b.jsx)(s.a,Object(i.a)({icon:c.f},t))},p=function(t){return Object(b.jsx)(s.a,Object(i.a)({icon:c.d},t))},j=function(t){return Object(b.jsx)(s.a,Object(i.a)({icon:c.o},t))},m=function(t){return Object(b.jsx)(s.a,Object(i.a)({icon:c.e},t))},v=function(t){return Object(b.jsx)(s.a,Object(i.a)({icon:c.n},t))},O=function(t){return Object(b.jsx)(s.a,Object(i.a)({icon:c.p},t))},g=function(t){return Object(b.jsx)(s.a,Object(i.a)({icon:c.l},t))},h=function(t){return Object(b.jsx)(s.a,Object(i.a)({icon:c.g},t))},y=u.d.div(r||(r=Object(o.a)(["\n\tposition: relative;\n\tpointer-events: none;\n\tmin-width: 50px;\n\n\t","\n\n\t","\n"])),(function(t){var e=t.$showName,n=t.$color;return"\n\t\t\t.name {\n\t\t\t\t".concat(e?"":"display: none;","\n\t\t\t\t").concat(n?"background-color: ".concat(n," !important;"):"","\n\t\t\t\t\n\t\t\t}\n\t\t")}),(function(t){var e=t.$size;return"\n\t\t\twidth: ".concat(e,"px;\n\t\t\theight: ").concat(e,"px;\n\n\t\t\t> div {\n\t\t\t\t/* Gotta override as char is taking coordinates by default */\n\t\t\t\ttop: ").concat(e/2,"px !important;\n\t\t\t\tleft: calc(50% - ").concat(e,"px / 2) !important;\n\t\t\t}\n\t\t")})),x=function(t){var e=t.size,n=t.showName,r=void 0!==n&&n,o=t.color,c=Object(a.a)(t,["size","showName","color"]);return Object(b.jsx)(y,{$size:e,$showName:r,$color:o,children:Object(b.jsx)(l.a,Object(i.a)({coordinates:{top:0,left:0},id:"P1",name:"Bomba-man",isNPC:!0,size:e},c))})},k={fontSize:40,width:50},w=Object(d.a)(k)},552:function(t,e,n){"use strict";var r=n(8),a=n(198),o=n(199),i=n(44),c=n(2),s=n(546),l=n(6),u=function(t){return Object(l.jsx)(a.a,Object(r.a)({icon:o.b},t))};e.a=function(t){var e=t.id,n=t.size,r=t.explodingDuration,a=t.coordinates,o=a.top,d=a.left,b=t.onDeathAnimationComplete;return Object(c.useEffect)((function(){setTimeout((function(){null===b||void 0===b||b(e)}),1e3*r+1e3)}),[]),Object(l.jsx)(s.a,{$top:o,$left:d,$size:n,$animationDelay:"".concat(r,"s"),children:Object(l.jsx)(u,{color:i.b.palette.color.default})})}},553:function(t,e,n){},554:function(t,e,n){"use strict";var r,a=n(9),o=n(8),i=n(198),c=n(199),s=n(4),l=n(44),u=n(6),d=(r={},Object(a.a)(r,s.j.Life,{color:l.b.palette.color.success,icon:function(t){return Object(u.jsx)(i.a,Object(o.a)({icon:c.h},t))}}),Object(a.a)(r,s.j.BombCount,{color:l.b.palette.color.error,icon:function(t){return Object(u.jsx)(i.a,Object(o.a)({icon:c.a},t))}}),Object(a.a)(r,s.j.BombSize,{color:l.b.palette.color.warning,icon:function(t){return Object(u.jsx)(i.a,Object(o.a)({icon:c.k},t))}}),Object(a.a)(r,s.j.MovementSpeed,{color:l.b.palette.color.info,icon:function(t){return Object(u.jsx)(i.a,Object(o.a)({icon:c.m},t))}}),r);e.a=d},555:function(t,e,n){"use strict";var r,a,o=n(8),i=n(65),c=n(64),s=n(34),l=n(4),u=n(2),d=n(12),b=n(29),f=n(44),p=(n(553),n(6)),j=b.d.div(r||(r=Object(s.a)(["\n\t","\n"])),(function(t){var e=t.$size,n=t.$name,r=e/32,o=32*r,i=4*o,c=-1*r*32,l=e/4*-1,u=Math.min(-15,2.5*l),d=Math.min(30,Math.ceil(o/6)),p=Math.floor(o/10),j=Math.floor(20*n.length+o*r/10),m="\n\t\t\twidth: ".concat(o,"px;\n\t\t\theight: ").concat(o,"px;\n\t\t"),v="\n\t\t\twidth: ".concat(i,"px;\n\t\t\theight: ").concat(i,"px;\n\t\t");return Object(b.c)(a||(a=Object(s.a)(["\n\t\t\tposition: absolute;\n\t\t\tz-index: 9999;\n\t\t\t",";\n\t\t\ttransition-duration: 450ms;\n\n\t\t\t&#P1 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t\t&#P2 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t\t&#P3 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t\t&#P4 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\n\t\t\t.character {\n\t\t\t\ttop: ","px;\n\t\t\t\ttransform: translate(","px);\n\n\t\t\t\t",";\n\t\t\t\toverflow: hidden;\n\t\t\t\tposition: relative;\n\t\t\t\t/* MOVEMENT TRANSITION */\n\t\t\t\ttransition-duration: 400ms;\n\n\t\t\t\t& .name {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: 0;\n\t\t\t\t\tright: 0;\n\t\t\t\t\ttop: ","px;\n\t\t\t\t\tfont-size: ","px;\n\t\t\t\t\tmax-width: ","px;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tborder: 1px dashed white;\n\t\t\t\t\tborder-radius: 9999px;\n\t\t\t\t\topacity: 1;\n\t\t\t\t\tmargin: auto;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t& .shadow {\n\t\t\t\t\t",";\n\t\t\t\t\topacity: 0.75;\n\t\t\t\t}\n\n\t\t\t\t& .spritesheet {\n\t\t\t\t\t",";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t}\n\n\t\t\t\t/* DIRECTION */\n\t\t\t\t&[data-facing='Right'] .spritesheet {\n\t\t\t\t\ttop: ","px;\n\t\t\t\t}\n\t\t\t\t&[data-facing='Up'] .spritesheet {\n\t\t\t\t\ttop: ","px;\n\t\t\t\t}\n\t\t\t\t&[data-facing='Left'] .spritesheet {\n\t\t\t\t\ttop: ","px;\n\t\t\t\t}\n\n\t\t\t\t&[data-walking='true'] {\n\t\t\t\t\t/* MOVEMENT ANIMATION */\n\t\t\t\t\t.spritesheet {\n\t\t\t\t\t\tanimation: walkAnimation 0.6s steps(4) infinite;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* SHADOW ANIMATION */\n\t\t\t\t\t.shadow {\n\t\t\t\t\t\tanimation: shadowAnimation 0.3s infinite;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* HIGHLIGHT/DAMAGE ANIMATION */\n\t\t\t\t&[data-highlight='true'] .spritesheet {\n\t\t\t\t\tanimation: opacityAnimation 0.6s steps(4) infinite;\n\t\t\t\t}\n\t\t\t}\n\t\t"])),m,f.b.palette.color.warning,f.b.palette.color.info,f.b.palette.color.success,f.b.palette.color.error,u,l,m,p,d,j,m,v,1*c,2*c,3*c)})),m=function(t){var e=t.id,n=t.shouldBindEvent,r=t.keyboardConfig,a=t.onPlayerIsWalking,o=t.setDirection,i=t.setIsWalking,c=Object(u.useRef)((new Date).getTime());Object(u.useEffect)((function(){var t=function(t){if(n){var s=function(t){return r?Object(d.j)(t.code,r):null}(t);if(!s)return null===a||void 0===a||a(!1,e),void i(!1);c.current=(new Date).getTime(),i(!0),function(t){o(t)}(s)}},s=function(){n&&setTimeout((function(){var t=(new Date).getTime()-200;c.current>=t||(i(!1),null===a||void 0===a||a(!1,e))}),200)};return n&&(document.addEventListener("keydown",t),document.addEventListener("keyup",s)),function(){document.removeEventListener("keydown",t),document.removeEventListener("keyup",s)}}),[e,r,a,o,i,n])};e.a=function(t){var e=t.id,n=t.currentOnlinePlayerId,r=t.name,a=t.coordinates,s=a.top,d=a.left,b=t.style,f=t.keyboardConfig,v=t.highlight,O=t.size,g=t.onPlayerIsWalking,h=t.isWalking,y=void 0!==h&&h,x=t.direction,k=void 0===x?l.b.DOWN:x,w=t.isNPC,I=void 0!==w&&w,A=Object(c.a)(t,["id","currentOnlinePlayerId","name","coordinates","style","keyboardConfig","highlight","size","onPlayerIsWalking","isWalking","direction","isNPC"]),N=Object(u.useState)(k),C=Object(i.a)(N,2),E=C[0],M=C[1],T=Object(u.useState)(y),D=Object(i.a)(T,2),P=D[0],B=D[1],S=!I&&(!n||e===n);m({id:e,currentOnlinePlayerId:n,keyboardConfig:f,shouldBindEvent:S,onPlayerIsWalking:g,setDirection:M,setIsWalking:B});var R=y,z=k;return S&&(R=P,z=E),Object(p.jsx)(j,Object(o.a)(Object(o.a)({id:e,style:Object(o.a)(Object(o.a)({},b),{},{top:s,left:d}),className:"character-wrapper"},A),{},{$size:2*O,$name:r,children:Object(p.jsxs)("div",{className:"character","data-facing":z,"data-walking":R.toString(),"data-highlight":v,children:[Object(p.jsx)("div",{className:"name",children:r}),Object(p.jsx)("img",{className:"shadow pixel-art",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAWUlEQVRYR+3XsQkAIAxEUe2cRXADx3cDwVksJYX970T41sE7Xqrk9Pjlx/nJAgoooIACCiiggAIKKKDAXwKt9k0uqblGIXMxgwVo+A2mJSyABYKWroHyx58Hv0cUIWfm8TkAAAAASUVORK5CYII=",alt:"sprite skin"}),Object(p.jsx)("img",{className:"spritesheet pixel-art",src:"data:image/png;base64,UklGRuYBAABXRUJQVlA4TNkBAAAvf8AfEDegkI0kaB1Wc63vv4M4DQUByDA6SKk4ex2mqG0bqCCKrfwp7N5em/8A4P9XnTtjLpKQBLi1tbdt/gbqnTCAN/D5RCygH6yhQ4C1GfefQQG/fjA4FhH9Z9i2bZjkAbZdhsAn0N9Qh3Rps6Tr7enSZ9lZ1PV+6bPsLO4q4Fj1ORugiqJzAdemHQCwqMszM8vOoq4wzXNrso4rVOW6YeXnwAFDfg66i/MBl3QOm5+DDrAmX0BjNK5QAfYsOYVzJHCjcr1VjGTyTmZhrj2PUeUKvuZIeWc7iQ6TdK4URIcJSXIQyS75V0Q70f+F9g48tFcs4Nq6A4Vd69w7RGdRF4UBhmRnWZd1wlhZB3tQuabj0JFQXb4+n2pMKlfoeHgRzhW9cK7ZcyKVa2Kehcn3SWRURueqkpdcSWIEE0jv+ne4d0DeKxZw7a5jV/aO4IDByDlGSZe/VvYc1dUpu+RzNrlqa+ZxyrtOPESNyzs+5s9FtbRGUT2mUeUKdapHZe4wkzZ3oH+muYNvAMjO8q5tO7CMS7MHeJRxrSt3gHsgVzBlXYOUG3QYOtK4yLpTq8oVqMX4dFDlEh+OrVHlConjTLpcgrklARpJcDYpKl0xNco1wgRTwLUPTQA=",alt:"sprite skin"})]})}))}},562:function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return f}));var r=n(39),a=n(8),o=n(4),i=n(554),c=n(545),s=n(556),l=n(563),u=n(550),d=n(6),b=function(t){return Object.values(o.j).reduce((function(e,n){var r=i.a[n],a=r.icon,o=r.color;return e[n]={icon:Object(d.jsx)(a,{style:t}),color:o},e}),{})},f=function(t,e,n){return Object.values(o.j).map((function(i){var d="".concat(Object(c.b)(o.j,i));return Object(a.a)(Object(a.a)({type:s.a.Rating,label:"".concat(d," (number)"),name:"".concat(t,".").concat(i),max:e},u.k[i]),n&&i===o.j.MovementSpeed&&{label:"".concat(d," (action interval, milliseconds)"),type:s.a.Slider,step:null,min:Math.min.apply(Math,Object(r.a)(n)),max:Math.max.apply(Math,Object(r.a)(n)),marks:Object(l.a)(n)})}))}},563:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(8);function a(t,e){if(Array.isArray(t))return t.map((function(t){return{value:t,label:t}}));var n=e-t;return Array(n+1).fill(0).map((function(e,a){var o=t+a;return Object(r.a)({value:o},(0===a||a===n)&&{label:o})}))}},566:function(t,e,n){"use strict";var r=n(2);e.a=function(t,e,n){var a=Object(r.useRef)(),o=Object(r.useRef)();Object(r.useEffect)((function(){a.current=t}),[t]);var i=Object(r.useCallback)((function(){o.current&&clearInterval(o.current)}),[]),c=Object(r.useCallback)((function(){var t;null===(t=a.current)||void 0===t||t.call(a)}),[]);return Object(r.useEffect)((function(){return n||(o.current=setInterval(c,e)),function(){return i()}}),[e,n,i,c]),Object(r.useEffect)((function(){n&&i()}),[n,i]),i}},567:function(t,e,n){"use strict";var r=n(2);e.a=function(t){var e=Object(r.useRef)();return Object(r.useEffect)((function(){e.current=t}),[t]),e.current}},573:function(t,e,n){"use strict";n.d(e,"b",(function(){return T}));var r=n(9),a=n(4),o=n(2),i=n(12),c=n(65),s=n(8),l=n(39),u=n(149);window.NPC_DEBUG=!1;var d,b,f=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";window.NPC_DEBUG&&(e=console).log.apply(e,Object(l.a)([n,t].filter(Boolean)))};!function(t){t[t.IsDanger=-1e4]="IsDanger",t[t.IsNonBreakingTile=-100]="IsNonBreakingTile",t[t.IsNonAdjacentNonBreakingTile=-5]="IsNonAdjacentNonBreakingTile",t[t.IsStuck=0]="IsStuck",t[t.IsEmptyTile=2]="IsEmptyTile",t[t.IsBreakingTile=3]="IsBreakingTile",t[t.IsPlayer=4]="IsPlayer",t[t.IsPossibleFireExit=1]="IsPossibleFireExit",t[t.IsPowerUp=1e3]="IsPowerUp"}(b||(b={}));var p=function(t,e){var n=t.ySquare,r=t.xSquare,a=e.ySquare,o=e.xSquare;return n!==a||r!==o},j=function(t){var e=Object.values(d.bombs);if(!e.length)return!1;var n=[];return e.forEach((function(t){var e,r=t.playerId,o=t.top,c=t.left,s=d.players,l=Object(i.h)(d.gameMap,{top:o,left:c},(null===(e=s[r])||void 0===e?void 0:e.state)?Object(i.k)(s[r].state,a.j.BombSize,d.powerUpConfig):d.powerUpConfig.defaults[a.j.BombSize],d.sizes).coordinatesToSetOnFire;Object.values(l).flat().forEach((function(t){n.push(t)}))})),n.findIndex((function(e){return!p(e,t)}))>=0},m=function(t,e){var n=t.ySquare,r=t.xSquare,a=e.ySquare,o=e.xSquare;return r===o&&(n===a+1||n===a-1)||n===a&&(r===o+1||r===o-1)},v=function(t,e,n,r){if(m(t,e)){var a=(new Date).getTime();return d.lastBombTime<=a-1e3*Object.values(d.bombDuration).reduce((function(t,e){return t+e}),0)&&(d.dropBomb(),d.lastBombTime=a),r}return p(t,e)?n:null},O=function(t,e,n){var r=t.ySquare,o=t.xSquare;if(!Object(i.q)(t,d.sizes.map)){var c,s=d.gameMap[r][o];if(j(t))return j(e)?b.IsPossibleFireExit:b.IsDanger;if(Object.values(a.j).includes(s))return b.IsPowerUp*n;if(!p(t,e))return b.IsStuck;if(s===a.k.Empty)return b.IsEmptyTile;if(c=s,Object.values(a.h).includes(c)){var l=v(t,e,b.IsPlayer);if(null!==l)return l}if(s===a.k.Breaking){if(j(e))return b.IsDanger;var u=v(t,e,b.IsBreakingTile);if(null!==u)return u}return s===a.k.NonBreaking?m(t,e)?b.IsNonBreakingTile:b.IsNonAdjacentNonBreakingTile:b.IsStuck}},g=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=e.ySquare,c=e.xSquare,l={};return Object.values(a.b).forEach((function(e){var u=i,b=c;switch(d.id++,e){case a.b.LEFT:b--;break;case a.b.UP:u--;break;case a.b.RIGHT:b++;break;case a.b.DOWN:u++}var f=O({ySquare:u,xSquare:b},n,r);l[d.id]={score:f,hasChildren:r>0&&void 0!==f,parentId:o,direction:e,level:r},r>0&&f&&(l=Object(s.a)(Object(s.a)({},l),t({ySquare:u,xSquare:b},n,r-1,d.id)))})),l},h=function(t){return t.reduce((function(t,e){var n=e;(void 0===e.score&&(n=t),t.score>e.score&&(n=t),t.score<e.score&&(n=e),t.score===e.score)&&(n=0===Object(u.a)(2)?e:t);return n}))},y=function(t){var e={};return t.forEach((function(t){var n=t.parentId;e[n]?e[n].push(t):e[n]=[t]})),e},x=function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(null!==r){n=void 0===r?Object.values(e).filter((function(t){return!t.hasChildren})):Object.values(e).filter((function(t){return t.parentId===e[r].parentId}));var a=y(n);Object.entries(a).forEach((function(n){var r=Object(c.a)(n,2),a=r[0],o=r[1],i="null"===a?null:Number(a),s=h(o);i?(e[i].score=e[i].score+(s.score?s.score:0),t(e,i)):d.parentNodes.some((function(t){return t.direction===s.direction}))||d.parentNodes.push(s)}))}},k=function(t){d.id=0,d.parentNodes=[];var e=g(t,t,void 0);return f(t,"currentCoordinates"),f(e,"originalMoves"),x(e),f(e,"scoredMoves"),h(d.parentNodes)},w=n(566),I=n(567),A=n(40),N=n(6),C=function(){var t=Object(o.useRef)({P1:document.getElementById("P1"),P2:document.getElementById("P2"),P3:document.getElementById("P3"),P4:document.getElementById("P4")});return{playerRefs:t,recalculate:function(){Object.keys(t.current).forEach((function(e){t.current[e]=document.getElementById(e)}))}}},E=function(){return Object(o.useRef)({P1:(new Date).getTime(),P2:(new Date).getTime(),P3:(new Date).getTime(),P4:(new Date).getTime()})},M=function(t,e){var n=E();return function(r){var o=t[r];if(!o)return!1;var c=o.state,s=(new Date).getTime(),l=Object(i.k)(c,a.j.MovementSpeed,e);return s-n.current[r]>l&&(n.current[r]=s,!0)}},T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onKeyDown,n=t.onKeyUp,r=Object(o.useRef)({});return Object(o.useEffect)((function(){var t=function(t){if(r.current){var a="keydown"===t.type;t.code===A.h&&t.preventDefault(),function(t,e){r.current[t.code]=e}(t,a),a?null===e||void 0===e||e(t.code):null===n||void 0===n||n(t.code)}};return window.addEventListener("keyup",t),window.addEventListener("keydown",t),function(){window.removeEventListener("keyup",t),window.removeEventListener("keydown",t)}}),[e,n]),r},D=function(t,e,n){var r=t[e];return!!r&&!Object(i.n)(r.state,n)},P=function(t,e,n,r){var c=function(t,e,n){return Object(o.useMemo)((function(){var r,o=null===(r=t[e])||void 0===r?void 0:r.state;return o?Object(i.k)(o,a.j.MovementSpeed,n):null}),[e,t,n])}(t,e,n);Object(w.a)((function(){D(t,e,n)&&r(e)}),c||Number.MAX_SAFE_INTEGER,!c)},B=function(t,e,n){return function(r){Object.keys(t).forEach((function(a){if(D(t,a,n)){var o=t[a].keyboardConfig;if(o)Object(i.r)(o,"DropBomb").includes(r)&&e(a)}}))}},S=function(t){var e=t.playerId,n=t.players,r=t.powerUpConfig,a=t.cb;return P(n,e,r,a),null};e.a=function(t){var e=t.state,n=t.provider,c=t.type,s=t.playerId,l=n.dropBomb,u=n.triggerMove,b=e.gameMap,p=e.bombs,j=e.players,m=e.is3D,v=e.config,O=v.powerUps,g=v.sizes,h=v.duration.bomb,y=C().playerRefs,x=Object(o.useMemo)((function(){return c===a.g.Local?j:Object(r.a)({},s,j[s])}),[j]),w=T({onKeyDown:B(x,l,O)}),A=E(),D=function(t){var e=t.triggerMove,n=t.players,r=t.timeOutRef,a=t.keyMap,c=t.is3D,s=t.powerUpConfig,l=C(),u=l.playerRefs,d=l.recalculate,b=Object(I.a)(c);Object(o.useEffect)((function(){b!==c&&d()}),[c,b,d]);var f=M(n,s),p=function(t,n){var r=Object(i.i)(a,n);r.length&&r.forEach((function(n){e({playerId:t,direction:n,ref:u.current[t]})}))};return{move:p,handleActions:function(t){if(a.current&&r.current&&Object.values(a.current).filter(Boolean).length){var e=n[t].keyboardConfig;if(e&&Object.keys(e).length){var o=u.current[t];o||(u.current[t]=document.getElementById(t)),o&&f(t)&&p(t,e)}}}}}({triggerMove:u,players:x,timeOutRef:A,keyMap:w,is3D:m,powerUpConfig:O}).handleActions,P=M(j,O),R=function(t){y.current[t]||(y.current[t]=document.getElementById(t)),function(t){var e=t.playerId,n=t.players,r=t.gameMap,a=t.bombs,o=t.triggerMove,c=t.dropBomb,s=t.ref,l=t.powerUpConfig,u=t.sizes,b=t.bombDuration,p=n[e];if(d={id:0,parentNodes:[],lastBombTime:0,dropBomb:function(){return c(e)},gameMap:r,bombs:a,players:n,powerUpConfig:l,sizes:u,bombDuration:b},p){var j=Object(i.l)(p.coordinates,u.movement),m=k(j);f(m,"bestMovementNode"),((null===m||void 0===m?void 0:m.score)||0)>0&&o({playerId:e,direction:m.direction,ref:s})}}({playerId:t,dropBomb:l,gameMap:b,bombs:p,players:x,triggerMove:function(e){P(t)&&u(e)},ref:y.current[t],powerUpConfig:O,sizes:g,bombDuration:h})};return Object.keys(x).map((function(t){var e=x[t].isNPC;return Object(N.jsx)(S,{playerId:t,players:x,powerUpConfig:O,cb:e?R:D},t)}))}},593:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r,a=n(34),o=n(29).d.div(r||(r=Object(a.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tflex-wrap: wrap;\n"])))}}]);