(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[12],{515:function(t,e,n){"use strict";n.r(e);var r=n(8),a=n(199),o=n(583),i=n(4),c=n(2),s=n(12),u=n(28),l=n(11),d=function(t,e){var n=Object(s.g)().push,r=t.players,a=t.config,o=a.powerUps,d=a.duration.bomb.exploding,b=i.f.Lose,f=Object(l.s)(r,o),p=f.P1,v=f.P2;(p===i.i.Alive||v&&v===i.i.Alive)&&(b=i.f.Win),Object(c.useEffect)((function(){var t=Object.values(f).filter((function(t){return t===i.i.Alive}));t.length>1||setTimeout((function(){e(),n("".concat(u.a,"/game-end"),{endGame:{players:f,currentOnlinePlayerId:Object.keys(t)[0],gameEndCondition:b}})}),1e3*d+1e3)}),[d,b,f,e,n])},b=n(103),f=n(204),p=n(14),v=function(){var t=Object(b.b)(),e=Object(b.c)(Object(f.b)()),n=e.sizes.map,a=e.tiles.blockTileChance,o=Object(c.useCallback)((function(e){return t(function(t){return{type:p.j,payload:t}}(e))}),[t]),i=Object(c.useCallback)((function(t){var e=Object(l.d)(t);o(e)}),[o]),s=Object(c.useCallback)((function(e){return t((n=e,{type:p.i,payload:n}));var n}),[t]),u=Object(c.useCallback)((function(){return s({gameMap:Object(l.g)(n,a),animate:!0})}),[a,n,s]),d=Object(c.useCallback)((function(e,n){var r;t((r={direction:e,id:n},{type:p.a,payload:r}))}),[t]),v=Object(c.useCallback)((function(e,n){var r;t((r={isWalking:e,id:n},{type:p.b,payload:r}))}),[t]),j=Object(c.useCallback)((function(e){return t((n=e,{type:p.g,payload:n}));var n}),[t]),g=Object(c.useCallback)((function(e){return t((n=Object(r.a)(Object(r.a)({},e),{},{onComplete:j}),{type:p.r,payload:n}));var n}),[t,j]),m=Object(c.useCallback)((function(e){return t((n=e,{type:p.d,payload:n}));var n}),[t]),O=Object(c.useCallback)((function(e,n){return t(function(t,e){return{type:p.p,payload:t,cb:e}}(e,n))}),[t]),h=Object(c.useCallback)((function(e){var n;t((n=e,{type:p.h,payload:n}))}),[t]),y=Object(c.useCallback)((function(){return t({type:p.q})}),[t]),x=Object(c.useCallback)((function(){return t({type:p.l})}),[t]),k=Object(c.useCallback)((function(){return t({type:p.n})}),[t]),w=Object(c.useCallback)((function(){return t({type:p.o})}),[t]),I=Object(c.useCallback)((function(){return t({type:p.m})}),[t]);return{startGame:i,updateGameSettings:o,generateNewCollisionCoordinates:u,updatePlayerDirection:d,updatePlayerIsWalking:v,makeMove:j,triggerMove:g,dropBomb:m,triggerExplosion:O,onExplosionComplete:h,triggerAnimation:y,toggleDimension:x,togglePerspective:k,toggleTwoPlayer:w,toggleNPC:I}},j=function(t){var e=Object(s.g)().push,n=v(),r=Object(b.c)(Object(f.a)()),a=Object(c.useRef)(!1);return Object(c.useEffect)((function(){a.current||t&&(n.startGame(t),a.current=!0)})),t?{provider:n,state:r,type:i.g.Local,gamePlayers:Object.keys(r.players).reduce((function(t,e){return t[e]=i.i.Alive,t}),{})}:(e("".concat(u.a,"/room-creator/local")),null)},g=n(5),m=function(t){var e=t.gameProps;return d(e.state,e.provider.startGame),Object(g.jsx)(o.a,Object(r.a)({},e))};e.default=function(t){var e,n=t.location,r=null===n||void 0===n||null===(e=n.state)||void 0===e?void 0:e.gameConfig,o=j(r);return o?Object(g.jsx)(m,{gameProps:o}):Object(g.jsx)(a.default,{})}},537:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s}));var r,a,o=n(40),i=n(33),c=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(i.e)(r||(r=Object(o.a)(["\n\t0% { transform: scale(0, 0); }\n\t25% { transform: scale(0.9, 1.1); }\n\t50% { transform: scale(1.1, 0.9); }\n\t75% { transform: scale(0.95, 1.05); }\n\t100% { transform: scale(1, 1); "," }\n"])),t?"opacity: 1;":"")},s=function(t,e){return Object(i.e)(a||(a=Object(o.a)(["\n\t0%, 100% { \n\t\ttransform: translateY(0px); \n\t\tbox-shadow: 0 10px 10px #000000;\n\t}\n\t50% {\n\t\ttransform: translateY(-10px);\n\t\tbox-shadow: 0 20px ","px ",";\n\t}\n"])),Math.ceil(t/6)+10,e)}},538:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){setTimeout(e,t)}))},a=function(t){return function(e){e.currentTarget.blur(),t(e)}},o=function(t){return null===t||void 0===t},i=function(t,e){return Object.keys(t)[Object.values(t).indexOf(e)]}},541:function(t,e,n){"use strict";var r,a,o=n(40),i=n(537),c=n(33),s=c.d.div(r||(r=Object(o.a)(["\n\tposition: absolute;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\topacity: 0;\n\tsvg {\n\t\theight: 100% !important;\n\t\twidth: 100% !important;\n\t\tmax-width: 70%;\n\t\tmax-height: 80%;\n\t}\n\t","\n"])),(function(t){var e=t.$size,n=t.$animationDelay,r=t.$top,s=t.$left;return Object(c.c)(a||(a=Object(o.a)(["\n\t\ttop: ","px;\n\t\tleft: ","px;\n\t\twidth: ","px;\n\t\theight: ","px;\n\t\tanimation: "," var(--block-animation-duration)\n\t\t\t"," ease-out forwards;\n\t"])),r,s,e,e,Object(i.a)(!0),n||"")}));e.a=s},545:function(t,e,n){"use strict";var r=n(8),a=n(534),o=n(535),i=n(51),c=n(2),s=n(541),u=n(5),l=function(t){return Object(u.jsx)(a.a,Object(r.a)({icon:o.b},t))};e.a=function(t){var e=t.id,n=t.size,r=t.explodingDuration,a=t.coordinates,o=a.top,d=a.left,b=t.onDeathAnimationComplete;return Object(c.useEffect)((function(){setTimeout((function(){null===b||void 0===b||b(e)}),1e3*r+1e3)}),[]),Object(u.jsx)(s.a,{$top:o,$left:d,$size:n,$animationDelay:"".concat(r,"s"),children:Object(u.jsx)(l,{color:i.b.palette.color.default})})}},546:function(t,e,n){},547:function(t,e,n){"use strict";var r,a=n(9),o=n(8),i=n(534),c=n(535),s=n(4),u=n(51),l=n(5),d=(r={},Object(a.a)(r,s.j.Life,{color:u.b.palette.color.success,icon:function(t){return Object(l.jsx)(i.a,Object(o.a)({icon:c.g},t))}}),Object(a.a)(r,s.j.BombCount,{color:u.b.palette.color.error,icon:function(t){return Object(l.jsx)(i.a,Object(o.a)({icon:c.a},t))}}),Object(a.a)(r,s.j.BombSize,{color:u.b.palette.color.warning,icon:function(t){return Object(l.jsx)(i.a,Object(o.a)({icon:c.i},t))}}),Object(a.a)(r,s.j.MovementSpeed,{color:u.b.palette.color.info,icon:function(t){return Object(l.jsx)(i.a,Object(o.a)({icon:c.k},t))}}),r);e.a=d},548:function(t,e,n){"use strict";var r,a,o=n(8),i=n(98),c=n(64),s=n(40),u=n(4),l=n(2),d=n(11),b=n(33),f=n(51),p=(n(546),n(5)),v=b.d.div(r||(r=Object(s.a)(["\n\t","\n"])),(function(t){var e=t.$size,n=e/32,r=32*n,o=4*r,i=-1*n*32,c=e/4*-1,u=Math.min(-15,2.5*c),l=Math.ceil(r/6),d=Math.ceil(.8*r),p="\n\t\t\twidth: ".concat(r,"px;\n\t\t\theight: ").concat(r,"px;\n\t\t"),v="\n\t\t\twidth: ".concat(o,"px;\n\t\t\theight: ").concat(o,"px;\n\t\t");return Object(b.c)(a||(a=Object(s.a)(["\n\t\t\tposition: absolute;\n\t\t\tz-index: 9999;\n\t\t\t",";\n\t\t\ttransition-duration: 450ms;\n\n\t\t\t&#P1 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t\t&#P2 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t\t&#P3 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\t\t\t&#P4 .name {\n\t\t\t\tbackground-color: ",";\n\t\t\t}\n\n\t\t\t.character {\n\t\t\t\ttop: ","px;\n\t\t\t\ttransform: translate(","px);\n\n\t\t\t\t",";\n\t\t\t\toverflow: hidden;\n\t\t\t\tposition: relative;\n\t\t\t\t/* MOVEMENT TRANSITION */\n\t\t\t\ttransition-duration: 400ms;\n\n\t\t\t\t& .name {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft: 15px;\n\t\t\t\t\tright: 15px;\n\t\t\t\t\tfont-size: ","px;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tborder: 1px dashed white;\n\t\t\t\t\tborder-radius: 9999px;\n\t\t\t\t\topacity: 1;\n\t\t\t\t\tmax-width: ","px;\n\t\t\t\t\tmargin: auto;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\n\t\t\t\t& .shadow {\n\t\t\t\t\t",";\n\t\t\t\t\topacity: 0.75;\n\t\t\t\t}\n\n\t\t\t\t& .spritesheet {\n\t\t\t\t\t",";\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tleft: 0;\n\t\t\t\t}\n\n\t\t\t\t/* DIRECTION */\n\t\t\t\t&[data-facing='Right'] .spritesheet {\n\t\t\t\t\ttop: ","px;\n\t\t\t\t}\n\t\t\t\t&[data-facing='Up'] .spritesheet {\n\t\t\t\t\ttop: ","px;\n\t\t\t\t}\n\t\t\t\t&[data-facing='Left'] .spritesheet {\n\t\t\t\t\ttop: ","px;\n\t\t\t\t}\n\n\t\t\t\t&[data-walking='true'] {\n\t\t\t\t\t/* MOVEMENT ANIMATION */\n\t\t\t\t\t.spritesheet {\n\t\t\t\t\t\tanimation: walkAnimation 0.6s steps(4) infinite;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* SHADOW ANIMATION */\n\t\t\t\t\t.shadow {\n\t\t\t\t\t\tanimation: shadowAnimation 0.3s infinite;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t/* HIGHLIGHT/DAMAGE ANIMATION */\n\t\t\t\t&[data-highlight='true'] .spritesheet {\n\t\t\t\t\tanimation: opacityAnimation 0.6s steps(4) infinite;\n\t\t\t\t}\n\t\t\t}\n\t\t"])),p,f.b.palette.color.warning,f.b.palette.color.info,f.b.palette.color.success,f.b.palette.color.error,u,c,p,l,d,p,v,1*i,2*i,3*i)})),j=function(t){var e=t.id,n=t.shouldBindEvent,r=t.keyboardConfig,a=t.onPlayerIsWalking,o=t.setDirection,i=t.setIsWalking,c=Object(l.useRef)((new Date).getTime());Object(l.useEffect)((function(){var t=function(t){if(n){var s=function(t){return r?Object(d.j)(t.code,r):null}(t);if(!s)return null===a||void 0===a||a(!1,e),void i(!1);c.current=(new Date).getTime(),i(!0),function(t){o(t)}(s)}},s=function(){n&&setTimeout((function(){var t=(new Date).getTime()-200;c.current>=t||(i(!1),null===a||void 0===a||a(!1,e))}),200)};return n&&(document.addEventListener("keydown",t),document.addEventListener("keyup",s)),function(){document.removeEventListener("keydown",t),document.removeEventListener("keyup",s)}}),[e,r,a,o,i,n])};e.a=function(t){var e=t.id,n=t.currentOnlinePlayerId,r=t.name,a=t.coordinates,s=a.top,d=a.left,b=t.style,f=t.keyboardConfig,g=t.highlight,m=t.size,O=t.onPlayerIsWalking,h=t.isWalking,y=void 0!==h&&h,x=t.direction,k=void 0===x?u.b.DOWN:x,w=t.isNPC,I=void 0!==w&&w,C=Object(c.a)(t,["id","currentOnlinePlayerId","name","coordinates","style","keyboardConfig","highlight","size","onPlayerIsWalking","isWalking","direction","isNPC"]),z=Object(l.useState)(k),S=Object(i.a)(z,2),A=S[0],E=S[1],D=Object(l.useState)(y),P=Object(i.a)(D,2),N=P[0],T=P[1],B=!I&&(!n||e===n);j({id:e,currentOnlinePlayerId:n,keyboardConfig:f,shouldBindEvent:B,onPlayerIsWalking:O,setDirection:E,setIsWalking:T});var M=y,R=k;return B&&(M=N,R=A),Object(p.jsx)(v,Object(o.a)(Object(o.a)({id:e,style:Object(o.a)(Object(o.a)({},b),{},{top:s,left:d}),className:"character-wrapper"},C),{},{$size:2*m,children:Object(p.jsxs)("div",{className:"character","data-facing":R,"data-walking":M.toString(),"data-highlight":g,children:[Object(p.jsx)("div",{className:"name",children:r}),Object(p.jsx)("img",{className:"shadow pixel-art",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAWUlEQVRYR+3XsQkAIAxEUe2cRXADx3cDwVksJYX970T41sE7Xqrk9Pjlx/nJAgoooIACCiiggAIKKKDAXwKt9k0uqblGIXMxgwVo+A2mJSyABYKWroHyx58Hv0cUIWfm8TkAAAAASUVORK5CYII=",alt:"sprite skin"}),Object(p.jsx)("img",{className:"spritesheet pixel-art",src:"data:image/png;base64,UklGRuYBAABXRUJQVlA4TNkBAAAvf8AfEDegkI0kaB1Wc63vv4M4DQUByDA6SKk4ex2mqG0bqCCKrfwp7N5em/8A4P9XnTtjLpKQBLi1tbdt/gbqnTCAN/D5RCygH6yhQ4C1GfefQQG/fjA4FhH9Z9i2bZjkAbZdhsAn0N9Qh3Rps6Tr7enSZ9lZ1PV+6bPsLO4q4Fj1ORugiqJzAdemHQCwqMszM8vOoq4wzXNrso4rVOW6YeXnwAFDfg66i/MBl3QOm5+DDrAmX0BjNK5QAfYsOYVzJHCjcr1VjGTyTmZhrj2PUeUKvuZIeWc7iQ6TdK4URIcJSXIQyS75V0Q70f+F9g48tFcs4Nq6A4Vd69w7RGdRF4UBhmRnWZd1wlhZB3tQuabj0JFQXb4+n2pMKlfoeHgRzhW9cK7ZcyKVa2Kehcn3SWRURueqkpdcSWIEE0jv+ne4d0DeKxZw7a5jV/aO4IDByDlGSZe/VvYc1dUpu+RzNrlqa+ZxyrtOPESNyzs+5s9FtbRGUT2mUeUKdapHZe4wkzZ3oH+muYNvAMjO8q5tO7CMS7MHeJRxrSt3gHsgVzBlXYOUG3QYOtK4yLpTq8oVqMX4dFDlEh+OrVHlConjTLpcgrklARpJcDYpKl0xNco1wgRTwLUPTQA=",alt:"sprite skin"})]})}))}},550:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r,a=n(40),o=n(543),i=n(539),c=n(51),s=n(33),u=n(536),l=n(5),d=Object(s.d)(i.a)(r||(r=Object(a.a)(["\n\tcolor: ",";\n"])),c.b.palette.color.error),b=function(t){var e=t.children,n=t.message,r=void 0===n?"Either the game is not found or you don't have access to it.":n;return Object(l.jsxs)(o.a,{fullHeight:!0,children:[Object(l.jsx)(u.a,{spacing:"5"}),Object(l.jsx)(d,{children:r}),Object(l.jsx)(u.a,{spacing:"10"}),e]})}},556:function(t,e,n){"use strict";var r=n(7),a=n.n(r),o=n(16),i=n(199),c=n(550),s=n(100),u=n(5);e.a=function(t){var e=Object(s.useFirebase)();Object(s.useFirebaseConnect)([t]);var n=function(e){return"".concat(t).concat(e||"")};return{create:function(){var t=Object(o.a)(a.a.mark((function t(){var r,o,i,c,s,u,l,d,b=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=b.length,o=new Array(r),i=0;i<r;i++)o[i]=b[i];return c=o[0],s=o[1],u=o[2],t.prev=2,t.next=5,e.push(n(s),c);case 5:return d=t.sent,null===u||void 0===u||null===(l=u.onSuccess)||void 0===l||l.call(u,d),t.abrupt("return",d);case 10:return t.prev=10,t.t0=t.catch(2),(null===u||void 0===u?void 0:u.onError)&&u.onError(t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),read:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],a=!Object(s.isLoaded)(r)&&Object(u.jsx)(i.default,{}),o=Object(s.isEmpty)(r)&&Object(u.jsx)(c.a,{});return{state:r,pending:a,error:o}},update:function(){var t=Object(o.a)(a.a.mark((function t(){var r,o,i,c,s,u,l,d,b=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=b.length,o=new Array(r),i=0;i<r;i++)o[i]=b[i];return c=o[0],s=o[1],u=o[2],t.prev=2,t.next=5,e.update(n(s),c);case 5:return d=t.sent,null===u||void 0===u||null===(l=u.onSuccess)||void 0===l||l.call(u,d),t.abrupt("return",d);case 10:return t.prev=10,t.t0=t.catch(2),(null===u||void 0===u?void 0:u.onError)&&u.onError(t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),push:function(){var t=Object(o.a)(a.a.mark((function t(){var r,o,i,c,s,u,l,d,b=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=b.length,o=new Array(r),i=0;i<r;i++)o[i]=b[i];return c=o[0],s=o[1],u=o[2],t.prev=2,t.next=5,e.push(n(s),c);case 5:return d=t.sent,null===u||void 0===u||null===(l=u.onSuccess)||void 0===l||l.call(u,d),t.abrupt("return",d);case 10:return t.prev=10,t.t0=t.catch(2),(null===u||void 0===u?void 0:u.onError)&&u.onError(t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}(),remove:function(){var t=Object(o.a)(a.a.mark((function t(){var r,o,i,c,s,u,l,d=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r=d.length,o=new Array(r),i=0;i<r;i++)o[i]=d[i];return c=o[0],s=o[1],t.prev=2,t.next=5,e.remove(n(c));case 5:return l=t.sent,null===s||void 0===s||null===(u=s.onSuccess)||void 0===u||u.call(s,l),t.abrupt("return",l);case 10:return t.prev=10,t.t0=t.catch(2),(null===s||void 0===s?void 0:s.onError)&&s.onError(t.t0),t.abrupt("return",t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}()}}},557:function(t,e,n){"use strict";var r=n(9),a=n(100),o=n(103),i=n(47),c=function(t){return t.firebase},s=n(11),u=n(199),l=n(550),d=n(22),b=n(59),f=n(4),p=n(556),v=n(5),j=Object(d.a)((function(){return Promise.all([n.e(4),n.e(18)]).then(n.bind(null,503))})),g=Object(s.d)();e.a=function(t){var e,n,d,m,O,h,y,x,k="online/".concat(t);Object(a.useFirebaseConnect)(k);var w=Object(p.a)(k),I=w.update,C=w.remove,z=Object(o.c)(function(t){return Object(i.a)(c,(function(e){var n=e.data.online;return null===n||void 0===n?void 0:n[t]}))}(t)),S=!Object(a.isLoaded)(z)&&Object(v.jsx)(u.default,{}),A=Object(a.isEmpty)(z)&&Object(v.jsx)(l.a,{children:Object(v.jsx)(j,{noWrapper:!0})}),E=z;return{game:{gameId:t,gameState:{players:(null===E||void 0===E||null===(e=E.gameState)||void 0===e?void 0:e.players)||g.players,gameMap:(null===E||void 0===E||null===(n=E.gameState)||void 0===n?void 0:n.gameMap)||g.gameMap,bombs:(null===E||void 0===E||null===(d=E.gameState)||void 0===d?void 0:d.bombs)||g.bombs,powerUps:(null===E||void 0===E||null===(m=E.gameState)||void 0===m?void 0:m.powerUps)||g.powerUps,is3D:(null===E||void 0===E||null===(O=E.gameState)||void 0===O?void 0:O.is3D)||g.is3D,isSideView:(null===E||void 0===E||null===(h=E.gameState)||void 0===h?void 0:h.isSideView)||g.isSideView,animationCounter:(null===E||void 0===E||null===(y=E.gameState)||void 0===y?void 0:y.animationCounter)||g.animationCounter,config:(null===E||void 0===E||null===(x=E.gameState)||void 0===x?void 0:x.config)||g.config},gamePlayers:(null===E||void 0===E?void 0:E.gamePlayers)||{},started:(null===E||void 0===E?void 0:E.started)||!1},pending:S,error:A,isReady:!S&&!A,onPlayerJoin:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];I(Object(r.a)({},t,f.i.Alive),"/gamePlayers");var n=Object(s.e)(t,E.gameState.config,!e&&b.a.keyboardConfig||null);I(n,"/gameState/players/".concat(t))},onPlayerExit:function(t){C("/gamePlayers/".concat(t)),C("/gameState/players/".concat(t)),E.gamePlayers&&Object.keys(E.gamePlayers).length<=2&&I({started:!1})},onStartGame:function(){I({started:!0})},onPlayerDeath:function(t){I(Object(r.a)({},t,f.i.Dead),"/gamePlayers")}}}},559:function(t,e,n){"use strict";var r=n(2);e.a=function(t,e,n){var a=Object(r.useRef)(),o=Object(r.useRef)();Object(r.useEffect)((function(){a.current=t}),[t]);var i=Object(r.useCallback)((function(){o.current&&clearInterval(o.current)}),[]),c=Object(r.useCallback)((function(){var t;null===(t=a.current)||void 0===t||t.call(a)}),[]);return Object(r.useEffect)((function(){return n||(o.current=setInterval(c,e)),function(){return i()}}),[e,n,i,c]),Object(r.useEffect)((function(){n&&i()}),[n,i]),i}},560:function(t,e,n){"use strict";var r=n(2);e.a=function(t){var e=Object(r.useRef)();return Object(r.useEffect)((function(){e.current=t}),[t]),e.current}},566:function(t,e,n){"use strict";n.d(e,"b",(function(){return S}));var r,a,o=n(9),i=n(4),c=n(2),s=n(11),u=n(98),l=n(8),d=n(149);!function(t){t[t.IsDanger=-1e4]="IsDanger",t[t.IsNonBreakingTile=-100]="IsNonBreakingTile",t[t.IsNonAdjacentNonBreakingTile=-5]="IsNonAdjacentNonBreakingTile",t[t.IsStuck=0]="IsStuck",t[t.IsEmptyTile=2]="IsEmptyTile",t[t.IsBreakingTile=3]="IsBreakingTile",t[t.IsPlayer=4]="IsPlayer",t[t.IsPowerUp=1e3]="IsPowerUp"}(a||(a={}));var b=function(t,e){var n=t.ySquare,r=t.xSquare,a=e.ySquare,o=e.xSquare;return n!==a||r!==o},f=function(t,e){var n=t.ySquare,r=t.xSquare,a=e.ySquare,o=e.xSquare;return r===o&&(n===a+1||n===a-1)||n===a&&(r===o+1||r===o-1)},p=function(t,e,n,a){if(f(t,e)){var o=(new Date).getTime();return r.lastBombTime<=o-1e3*Object.values(r.bombDuration).reduce((function(t,e){return t+e}),0)&&(r.dropBomb(),r.lastBombTime=o),a}return b(t,e)?n:null},v=function(t,e,n){var o=t.ySquare,c=t.xSquare;if(!Object(s.q)(t,r.sizes.map)){var u,l=r.gameMap[o][c];if(function(t){var e=Object.values(r.bombs);if(!e.length)return!1;var n=[];return e.forEach((function(t){var e,a=t.playerId,o=t.top,c=t.left,u=r.players,l=Object(s.h)(r.gameMap,{top:o,left:c},(null===(e=u[a])||void 0===e?void 0:e.state)?Object(s.k)(u[a].state,i.j.BombSize,r.powerUpConfig):r.powerUpConfig.defaults[i.j.BombSize],r.sizes).coordinatesToSetOnFire;Object.values(l).flat().forEach((function(t){n.push(t)}))})),n.findIndex((function(e){return!b(e,t)}))>=0}(t))return a.IsDanger;if(Object.values(i.j).includes(l))return a.IsPowerUp*n;if(!b(t,e))return a.IsStuck;if(l===i.k.Empty)return a.IsEmptyTile;if(u=l,Object.values(i.h).includes(u)){var d=p(t,e,a.IsPlayer);if(null!==d)return d}if(l===i.k.Breaking){var v=p(t,e,a.IsBreakingTile);if(null!==v)return v}return l===i.k.NonBreaking?f(t,e)?a.IsNonBreakingTile:a.IsNonAdjacentNonBreakingTile:a.IsStuck}},j=function t(e,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=e.ySquare,s=e.xSquare,u={};return Object.values(i.b).forEach((function(e){var d=c,b=s;switch(r.id++,e){case i.b.LEFT:b--;break;case i.b.UP:d--;break;case i.b.RIGHT:b++;break;case i.b.DOWN:d++}var f=v({ySquare:d,xSquare:b},n,a);u[r.id]={score:f,hasChildren:a>0&&void 0!==f,parentId:o,direction:e,level:a},a>0&&f&&(u=Object(l.a)(Object(l.a)({},u),t({ySquare:d,xSquare:b},n,a-1,r.id)))})),u},g=function(t){return t.reduce((function(t,e){var n=e;(void 0===e.score&&(n=t),t.score>e.score&&(n=t),t.score<e.score&&(n=e),t.score===e.score)&&(n=0===Object(d.a)(2)?e:t);return n}))},m=function(t){var e={};return t.forEach((function(t){var n=t.parentId;e[n]?e[n].push(t):e[n]=[t]})),e},O=function t(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(null!==a){n=void 0===a?Object.values(e).filter((function(t){return!t.hasChildren})):Object.values(e).filter((function(t){return t.parentId===e[a].parentId}));var o=m(n);Object.entries(o).forEach((function(n){var a=Object(u.a)(n,2),o=a[0],i=a[1],c="null"===o?null:Number(o),s=g(i);c?(e[c].score=e[c].score+(s.score?s.score:0),t(e,c)):r.parentNodes.some((function(t){return t.direction===s.direction}))||r.parentNodes.push(s)}))}},h=function(t){r.id=0,r.parentNodes=[];var e=j(t,t,void 0);return O(e),g(r.parentNodes)},y=n(559),x=n(560),k=n(39),w=n(5),I=function(){var t=Object(c.useRef)({P1:document.getElementById("P1"),P2:document.getElementById("P2"),P3:document.getElementById("P3"),P4:document.getElementById("P4")});return{playerRefs:t,recalculate:function(){Object.keys(t.current).forEach((function(e){t.current[e]=document.getElementById(e)}))}}},C=function(){return Object(c.useRef)({P1:(new Date).getTime(),P2:(new Date).getTime(),P3:(new Date).getTime(),P4:(new Date).getTime()})},z=function(t,e){var n=C();return function(r){var a=t[r];if(!a)return!1;var o=a.state,c=(new Date).getTime(),u=Object(s.k)(o,i.j.MovementSpeed,e);return c-n.current[r]>u&&(n.current[r]=c,!0)}},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.onKeyDown,n=t.onKeyUp,r=Object(c.useRef)({});return Object(c.useEffect)((function(){var t=function(t){if(r.current){var a="keydown"===t.type;t.code===k.h&&t.preventDefault(),function(t,e){r.current[t.code]=e}(t,a),a?null===e||void 0===e||e(t.code):null===n||void 0===n||n(t.code)}};return window.addEventListener("keyup",t),window.addEventListener("keydown",t),function(){window.removeEventListener("keyup",t),window.removeEventListener("keydown",t)}}),[e,n]),r},A=function(t,e,n){var r=t[e];return!!r&&!Object(s.n)(r.state,n)},E=function(t,e,n,r){var a=function(t,e,n){return Object(c.useMemo)((function(){var r,a=null===(r=t[e])||void 0===r?void 0:r.state;return a?Object(s.k)(a,i.j.MovementSpeed,n):null}),[e,t,n])}(t,e,n);Object(y.a)((function(){A(t,e,n)&&r(e)}),a||Number.MAX_SAFE_INTEGER,!a)},D=function(t,e,n){return function(r){Object.keys(t).forEach((function(a){if(A(t,a,n)){var o=t[a].keyboardConfig;if(o)Object(s.r)(o,"DropBomb").includes(r)&&e(a)}}))}},P=function(t){var e=t.playerId,n=t.players,r=t.powerUpConfig,a=t.cb;return E(n,e,r,a),null};e.a=function(t){var e=t.state,n=t.provider,a=t.type,u=t.playerId,l=n.dropBomb,d=n.triggerMove,b=e.gameMap,f=e.bombs,p=e.players,v=e.is3D,j=e.config,g=j.powerUps,m=j.sizes,O=j.duration.bomb,y=I().playerRefs,k=Object(c.useMemo)((function(){return a===i.g.Local?p:Object(o.a)({},u,p[u])}),[p]),A=S({onKeyDown:D(k,l,g)}),E=C(),N=function(t){var e=t.triggerMove,n=t.players,r=t.timeOutRef,a=t.keyMap,o=t.is3D,i=t.powerUpConfig,u=I(),l=u.playerRefs,d=u.recalculate,b=Object(x.a)(o);Object(c.useEffect)((function(){b!==o&&d()}),[o,b,d]);var f=z(n,i),p=function(t,n){var r=Object(s.i)(a,n);r.length&&r.forEach((function(n){e({playerId:t,direction:n,ref:l.current[t]})}))};return{move:p,handleActions:function(t){if(a.current&&r.current&&Object.values(a.current).filter(Boolean).length){var e=n[t].keyboardConfig;if(e&&Object.keys(e).length){var o=l.current[t];o||(l.current[t]=document.getElementById(t)),o&&f(t)&&p(t,e)}}}}}({triggerMove:d,players:k,timeOutRef:E,keyMap:A,is3D:v,powerUpConfig:g}).handleActions,T=z(p,g),B=function(t){y.current[t]||(y.current[t]=document.getElementById(t)),function(t){var e=t.playerId,n=t.players,a=t.gameMap,o=t.bombs,i=t.triggerMove,c=t.dropBomb,u=t.ref,l=t.powerUpConfig,d=t.sizes,b=t.bombDuration,f=n[e];if(r={id:0,parentNodes:[],lastBombTime:0,dropBomb:function(){return c(e)},gameMap:a,bombs:o,players:n,powerUpConfig:l,sizes:d,bombDuration:b},f){var p=Object(s.l)(f.coordinates,d.movement),v=h(p);((null===v||void 0===v?void 0:v.score)||0)>0&&i({playerId:e,direction:v.direction,ref:u})}}({playerId:t,dropBomb:l,gameMap:b,bombs:f,players:k,triggerMove:function(e){T(t)&&d(e)},ref:y.current[t],powerUpConfig:g,sizes:m,bombDuration:O})};return Object.keys(k).map((function(t){var e=k[t].isNPC;return Object(w.jsx)(P,{playerId:t,players:k,powerUpConfig:g,cb:e?B:N},t)}))}},567:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r,a=n(8),o=n(64),i=n(40),c=n(2),s=n(33),u=n(51),l=n(5),d=s.d.button(r||(r=Object(i.a)(["\n\tbackground-color: ",";\n\t/* IGNORE SIZE FOR NOW */\n\tborder-radius: ",";\n\tpadding: ",";\n\tcursor: pointer;\n\ttransition: background-color ",";\n\n\t&:hover {\n\t\tbackground-color: ",";\n\t}\n"])),(function(t){var e=t.$variant;return u.b.palette.color[e]}),u.b.shape.borderRadius,u.b.shape.padding,u.b.transition.hover,(function(t){var e=t.$variant;return u.b.palette.color["".concat(e,"-lighter")]})),b=Object(c.forwardRef)((function(t,e){var n=t.variant,r=void 0===n?"default":n,i=t.size,c=void 0===i?"medium":i,s=t.children,u=Object(o.a)(t,["variant","size","children"]);return Object(l.jsx)(d,Object(a.a)(Object(a.a)({$variant:r,$size:c,ref:e},u),{},{children:s}))})),f=Object(c.memo)(b)},579:function(t,e,n){},583:function(t,e,n){"use strict";n.d(e,"a",(function(){return ut}));var r,a,o,i,c,s,u,l,d,b,f,p,v=n(8),j=n(566),g=n(40),m=n(33),O=n(536),h=n(5),y=m.d.div(r||(r=Object(g.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\tflex-wrap: wrap;\n\n\t& > :first-child {\n\t\tmargin-right: 50px;\n\t\twidth: 15%;\n\t\t@media only screen and (max-width: 600px) {\n\t\t\twidth: 100%;\n\t\t\tmargin: 50px auto;\n\t\t\torder: 2;\n\t\t\t& button {\n\t\t\t\twidth: 80% !important;\n\t\t\t}\n\t\t}\n\t}\n"]))),x=m.d.div(a||(a=Object(g.a)(["\n\ttext-align: center;\n\t","\n"])),(function(t){return t.$is3D?"perspective: 1000":""})),k=function(t){var e=t.children,n=t.is3D;return Object(h.jsxs)(x,{$is3D:n,children:[Object(h.jsx)(O.a,{spacing:"2"}),Object(h.jsx)(y,{children:e})]})},w=n(64),I=n(2),C=n(567),z=n(538),S=function(t){var e=t.active,n=void 0!==e&&e,r=t.onClick,a=t.children,o=Object(w.a)(t,["active","onClick","children"]);return Object(h.jsx)(C.a,Object(v.a)(Object(v.a)({style:{width:"100%",wordWrap:"break-word",marginBottom:10},variant:n?"success":"warning",onClick:Object(z.d)(r)},o),{},{children:a}))},A=function(t){var e=t.state,n=t.provider,r=n.generateNewCollisionCoordinates,a=n.togglePerspective,o=n.toggleDimension,i=e.is3D,c=e.isSideView,s=Object(I.useMemo)((function(){return[{label:"New Collision Coordinates",onClick:r},{label:"Toggle 3D (Experimental)",onClick:o,active:i},{label:"Toggle Side View",onClick:a,active:c,disabled:!i}].map((function(t){var e=t.label,n=Object(w.a)(t,["label"]);return Object(h.jsx)(S,Object(v.a)(Object(v.a)({},n),{},{children:e}),e)}))}),[r,i,c,o,a]);return Object(h.jsx)("div",{children:s})},E=Object(I.memo)(A),D=n(98),P=n(51),N=n(4),T=n(11),B=n(557),M=n(7),R=n.n(M),$=n(16),U=function(){var t=Object(I.useRef)(!0);return Object(I.useEffect)((function(){return function(){t.current=!1}}),[]),t},q=(n(579),m.d.div(o||(o=Object(g.a)([""])))),V=m.d.div(i||(i=Object(g.a)(["\n\t","\n\theight: calc(var(--tile-size) * 1px);\n\twidth: calc(var(--tile-size) * 1px);\n\ttransform-style: preserve-3d;\n\tposition: absolute;\n\ttransform-origin: center center;\n\ttransition: 300ms;\n\n\ttransform: scale(1, 1) translateZ(calc(var(--tile-size) / 2 * -1px));\n\n\t& > "," {\n\t\tborder: 1px solid var(--primary-background);\n\n\t\theight: calc(var(--tile-size) * 1px);\n\t\twidth: calc(var(--tile-size) * 1px);\n\t\t/* transform-origin: 50% 50%; */\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\tposition: absolute;\n\n\t\t/** @see https://codepen.io/jh3y/pen/BaKqQLJ */\n\t\t&:nth-of-type(1) {\n\t\t\ttransform: translate(-50%, -50%) rotateX(-90deg)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * 1px));\n\t\t}\n\t\t&:nth-of-type(2) {\n\t\t\ttransform: translate(-50%, -50%) rotateX(-90deg) rotateY(180deg)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * 1px));\n\t\t}\n\t\t&:nth-of-type(3) {\n\t\t\ttransform: translate(-50%, -50%) rotateX(-90deg) rotateY(90deg)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * 1px));\n\t\t}\n\t\t&:nth-of-type(4) {\n\t\t\ttransform: translate(-50%, -50%) rotateX(-90deg) rotateY(-90deg)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * 1px));\n\t\t}\n\t\t&:nth-of-type(5) {\n\t\t\tbackground-color: var(--secondary-background);\n\t\t\ttransform: translate(-50%, -50%)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * 1px));\n\t\t}\n\t\t&:nth-of-type(6) {\n\t\t\ttransform: translate(-50%, -50%)\n\t\t\t\ttranslateZ(calc((var(--tile-size) / 2) * -1px)) rotateX(180deg);\n\t\t}\n\t}\n\n\t&.bouncy-block- {\n\t\t&no-animation {\n\t\t\ttransform: translateZ(calc(var(--tile-size) / 2 * 1px));\n\t\t\t& > "," {\n\t\t\t\tbackground-color: var(--secondary-color);\n\t\t\t}\n\t\t}\n\n\t\t&0 {\n\t\t\ttransform: translateZ(calc(var(--tile-size) / 2 * 1px))\n\t\t\t\trotateX(0deg) rotateY(0deg) rotateZ(0deg);\n\t\t}\n\t}\n"])),(function(t){var e=t.$size;return"\n\t\t--tile-size: ".concat(e,";\n\t")}),q,q),W=function(t){var e=t.size,n=t.top,r=t.left,a=t.animate,o=void 0!==a&&a,i=t.variant,c=t.color,s=t.collisionIndex,u=t.style,l=t.className,d=Object(w.a)(t,["size","top","left","animate","variant","color","collisionIndex","style","className"]),b="cuboid bouncy-block-".concat((o?s:"no-animation")||0," ").concat(i).concat(l&&" ".concat(l)||"");return Object(h.jsx)(V,Object(v.a)(Object(v.a)({className:b,style:Object(v.a)(Object(v.a)({},u),{},{top:n,left:r,width:e,height:e}),$size:e},d),{},{children:Array(6).fill(0).map((function(t,n){return Object(h.jsx)(q,{style:Object(v.a)(Object(v.a)({},c&&{backgroundColor:c}),{},{width:e,height:e})},n)}))}))},Z=function(t,e){return"".concat(e?"transform: translateZ(calc(var(--tile-size) / 2 * 2px)) rotateX(".concat(t,"deg) rotateY(").concat(t,"deg)"):"transform: rotate(".concat(t,"deg)"),";")},K=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(m.e)(c||(c=Object(g.a)(["\n\t0% { "," }\n\t\n\t/* 40% -> 100% */\n\t","\n"])),Z(0,t),Array(7).fill(0).map((function(e,n){return"".concat(10*(n+4),"% { ").concat(Z((n+1)*(t&&(n<6?90:100)||n<4&&90||n<6&&270||360),t)," }")})).join("\n"))},X=m.d.div(s||(s=Object(g.a)(["\n\tanimation: "," linear forwards;\n"])),K()),F=Object(m.d)(W)(u||(u=Object(g.a)(["\n\t/* "," */\n\tanimation: "," linear forwards;\n"])),(function(t){var e=t.size;return"\n\t\t--tile-size: ".concat(e,";\n\t")}),K(!0)),L=function(t){var e=t.color,n=t.firingDuration,r=t.explodingDuration,a=t.playerId,o=t.currentOnlinePlayerId,i=t.tileSize,c=t.id,s=t.top,u=t.left,l=t.triggerExplosion,d=t.onExplosionComplete,b=t.is3D,f=Object(I.useState)(N.c.Firing),p=Object(D.a)(f,2),v=p[0],j=p[1],g=U(),m=!o||a===o;Object(I.useEffect)((function(){m&&function(){var t=Object($.a)(R.a.mark((function t(){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(z.c)(1e3*n);case 2:if(g.current){t.next=4;break}return t.abrupt("return");case 4:l(c,function(){var t=Object($.a)(R.a.mark((function t(e){return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g.current){t.next=2;break}return t.abrupt("return");case 2:return j(N.c.Exploding),t.next=5,Object(z.c)(1e3*r);case 5:if(g.current){t.next=7;break}return t.abrupt("return");case 7:d(c),e.forEach((function(t){d(t)}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]);var O=i/2,y=O/2,x={position:"absolute",backgroundColor:e,width:O,height:O,top:s+y,left:u+y,animationDuration:"".concat(n,"s")};return v===N.c.Firing&&(!b&&Object(h.jsx)(X,{style:x})||Object(h.jsx)(F,{size:O,top:Number(x.top),left:Number(x.left),animate:!1,variant:N.d.Bomb,color:P.b.palette.color.error,collisionIndex:1,style:x}))||null},G=n(548),Y=function(t){var e=t.id,n=t.currentOnlinePlayerId,r=(t.name,t.size),a=t.tileSize,o=t.coordinates,i=o.top,c=o.left,s=t.keyboardConfig,u=t.is3D,l=t.highlight,d=void 0!==l&&l,b=Object(w.a)(t,["id","currentOnlinePlayerId","name","size","tileSize","coordinates","keyboardConfig","is3D","highlight"]),f=(a-r)/2,p=f+i,j=f+c;return u&&Object(h.jsx)(W,Object(v.a)({id:e,size:r,top:p,left:j,animate:!0,color:P.b.palette.color.success,style:{transform:T.a},variant:N.h[e]},b))||Object(h.jsx)(G.a,Object(v.a)({id:e,currentOnlinePlayerId:n,name:e,coordinates:{top:p,left:j},keyboardConfig:s,highlight:d,size:r},b))},H=n(545),Q=function(t){var e=t.state,n=t.provider,r=t.playerId,a=t.gameId,o=n.triggerExplosion,i=n.onExplosionComplete,c=n.updatePlayerIsWalking,s=e.gameMap,u=e.players,l=e.bombs,d=e.is3D,b=e.config,f=Object(B.a)(a||"").onPlayerDeath;return Object(h.jsxs)(h.Fragment,{children:[Object.entries(u).map((function(t){var e=Object(D.a)(t,2),n=e[0],a=e[1],o=a.coordinates,i=a.state,u=Object(w.a)(a,["coordinates","state"]),l=!Object(T.n)(i,b.powerUps),p=Object(T.o)(s,o,b.sizes.movement);return l&&Object(h.jsx)(Y,Object(v.a)({currentOnlinePlayerId:r,name:"Bomber",size:b.sizes.character,tileSize:b.sizes.tile,coordinates:o,is3D:d,highlight:p,onPlayerIsWalking:c},u),n)||Object(h.jsx)(H.a,{id:n,name:n,coordinates:o,size:b.sizes.character,explodingDuration:b.duration.bomb.exploding,onDeathAnimationComplete:f},n)})),Object.values(l).map((function(t){var e,n=t.id,a=t.playerId,c=Object(w.a)(t,["id","playerId"]),s=null===(e=u[a])||void 0===e?void 0:e.state;if(!s)return null;var l=Object(T.k)(s,N.j.BombSize,b.powerUps);return Object(h.jsx)(L,Object(v.a)(Object(v.a)({id:n,playerId:a,currentOnlinePlayerId:r},c),{},{color:P.b.palette.color.error,tileSize:b.sizes.tile,explosionSize:l,firingDuration:b.duration.bomb.firing,explodingDuration:b.duration.bomb.exploding,triggerExplosion:o,onExplosionComplete:i,is3D:d}),n)}))]})},J=n(560),_=n(537),tt=m.d.div.attrs((function(t){var e=t.$size,n=t.$top,r=t.$left,a=t.$color;return{style:Object(v.a)({width:e,height:e,top:n,left:r},a&&{backgroundColor:a})}}))(d||(d=Object(g.a)(["\n\tposition: absolute;\n\t/* background-color: ","; */\n\tborder: 1px solid ",";\n\t","\n"])),P.b.palette.background.secondary,P.b.palette.background.primary,(function(t){var e=t.$color,n=t.$collisionIndex,r=t.$animate,a=t.$fireSquare;return a&&Object(m.c)(b||(b=Object(g.a)(["\n\t\t\t\t\tborder: none;\n\t\t\t\t\tanimation: ","\n\t\t\t\t\t\tcalc(var(--firing-duration) / 2)\n\t\t\t\t\t\tvar(--ease-in-out-quint) forwards;\n\t\t\t\t"])),function(t){var e=0,n=0,r="",a="",o="",i="";return t===N.d.FireHorizontal?e=1:t===N.d.FireVertical?n=1:(e=.5,n=.5,r=" rotate(90deg)",a=" rotate(360deg)",o="border-radius: 50%;",i="border-radius: 0%;"),Object(m.e)(l||(l=Object(g.a)(["\n\t\t// cool effect\n\t\t/* 0% { border: 16px solid ","; transform: scale(",", ",")","; "," } */\n\t\t0% { background-color: ","; transform: scale(",", ",")","; "," }\n\t\t20% { background-color: ","; }\n\t\t40% { background-color: ","; }\n\t\t50% { "," }\n\t\t60% { background-color: ","; }\n\t\t80% { background-color: ","; }\n\t\t100% { background-color: ","; transform: scale(1)",";  }\n\t"])),P.b.palette.background.primary,e,n,r,o,P.b.palette.background.primary,e,n,r,o,P.b.palette.color.error,P.b.palette.color.info,i,P.b.palette.color.error,P.b.palette.color.info,P.b.palette.color.error,a)}(a))||r&&e&&Object(m.c)(f||(f=Object(g.a)(["\n\t\t\t\t\ttransform: scale(0, 0);\n\t\t\t\t\tz-index: 9999;\n\t\t\t\t\tanimation: ","\n\t\t\t\t\t\tvar(--block-animation-duration) ease\n\t\t\t\t\t\tcalc(\n\t\t\t\t\t\t\t"," *\n\t\t\t\t\t\t\t\tvar(--incremental-animation-delay)\n\t\t\t\t\t\t)\n\t\t\t\t\t\tforwards;\n\t\t\t\t"])),Object(_.a)(),n)||""})),et=function(t){var e=t.size,n=t.top,r=t.left,a=t.color,o=t.collisionIndex,i=t.animate,c=void 0!==i&&i,s=t.fireSquare;return Object(h.jsx)(tt,{$size:e,$top:n,$left:r,$animate:c,$color:a,$collisionIndex:o,$fireSquare:s})},nt=Object(I.memo)(et),rt=n(541),at=n(547),ot=function(t){var e=t.variant,n=t.top,r=t.left,a=t.size,o=at.a[e],i=o.icon,c=o.color;return Object(h.jsx)(rt.a,{$top:n,$left:r,$size:a,children:Object(h.jsx)(i,{color:c})})},it=m.d.div(p||(p=Object(g.a)(["\n\t","\n\tborder-radius: ",";\n\tbackground-color: ",";\n\tposition: relative;\n\tbox-shadow: 0 10px 20px rgba(0, 0, 0, 0.5), 0 6px 6px rgba(0, 0, 0, 0.6);\n\ttransition: transform var(--block-animation-duration);\n\n\t","\n"])),(function(t){var e=t.$mapSize,n=t.$tileSize;return"\n\t\twidth: calc(".concat(n,"px * ").concat(e,");\n\t\theight: calc(").concat(n,"px * ").concat(e,");\n\t")}),P.b.shape.borderRadius,P.b.palette.background.secondary,(function(t){var e=t.$is3D,n=t.$isTopView,r="";return e&&(r+="transform-style: preserve-3d;",n||(r+="\ntransform: rotateX(-24deg) rotateY(-24deg) rotateX(90deg);")),r})),ct=function(t){var e=t.sizes,n=e.map,r=e.tile,a=t.gameMap,o=t.is3D,i=t.isTopView,c=t.animationCounter,s=t.children,u=c!==Object(J.a)(c);Object(I.useEffect)((function(){u=!0}),[]);var l=1;return Object(h.jsxs)(it,{$mapSize:n,$tileSize:r,$is3D:o,$isTopView:i,children:[Object.keys(a).map((function(t,e){return Object.values(a[t]).map((function(t,n){var a,i=t===N.k.NonBreaking||t===N.k.Breaking,c="".concat(e,"_").concat(n),s=r,d=e*r,b=n*r;if(Object(T.p)(t))return Object(h.jsx)(ot,{size:s,variant:t,top:d,left:b},c);t!==N.d.FireCore&&t!==N.d.FireHorizontal&&t!==N.d.FireVertical||(a=t);var f=Object(v.a)({key:c,size:s,top:d,left:b,animate:u,variant:t,fireSquare:a},i&&{color:P.b.palette.color[t===N.k.NonBreaking?"secondary":"primary"],collisionIndex:l++});return o&&(i&&Object(h.jsx)(W,Object(v.a)({},f))||Object(h.jsx)(nt,Object(v.a)({},f)))||Object(h.jsx)(nt,Object(v.a)({},f))}))})),s]})},st=function(t){var e=t.sizes,n=t.children,r=t.gameMap,a=t.is3D,o=t.isSideView,i=t.animationCounter;return Object(h.jsx)(ct,{sizes:e,gameMap:r,is3D:a,isTopView:!o,animationCounter:i,children:n})},ut=function(t){var e=Object(j.a)(t),n=function(t){var e=t.state,n=e.is3D,r=e.gameMap,a=e.isSideView,o=e.animationCounter,i=e.config,c=t.gameId,s=t.type;return{gameContainerProps:{is3D:n},gameSettingProps:Object(v.a)(Object(v.a)({},t),{},{type:s}),gameMapProps:{sizes:i.sizes,gameMap:r,is3D:n,isSideView:a,animationCounter:o},gameContentProps:Object(v.a)(Object(v.a)({},t),{},{gameId:c})}}(t),r=n.gameContainerProps,a=n.gameSettingProps,o=n.gameMapProps,i=n.gameContentProps;return Object(h.jsxs)(k,Object(v.a)(Object(v.a)({},r),{},{children:[Object(h.jsx)(E,Object(v.a)({},a)),Object(h.jsx)(st,Object(v.a)(Object(v.a)({},o),{},{children:Object(h.jsx)(Q,Object(v.a)({},i))})),e]}))}}}]);
//# sourceMappingURL=12.38e9c107.chunk.js.map