(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{26:function(t,e,n){},31:function(t,e,n){},32:function(t,e,n){"use strict";n.r(e);var r,o=n(0),i=n.n(o),a=n(16),c=n.n(a),s=(n(26),n(2)),l=n(3),u=l.c.div(r||(r=Object(s.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]))),d=n(4),f=n(6),b=n(21),p=n(5),m={size:{game:15,character:32,tile:32,movement:32,collisionMin:1,collisionMax:1,bomb:16,explosion:1},duration:{movement:300,bomb:{firing:2,exploding:2}}};m.size.collisionMin=Math.floor(m.size.game*m.size.game/3),m.size.collisionMax=Math.floor(m.size.game*m.size.game/2);var j,O,x,g,v,y,z=m,h=Object(l.a)(j||(j=Object(s.a)(["\n\t:root {\n\t\t/* Colors */\n\t\t--primary-background: #13141b;\n\t\t--secondary-background: #1a1d28;\n\n\t\t--primary-color: #86daff;\n\t\t--secondary-color: #763ee6;\n\n\t\t--supplementary-color-1: rgb(255, 122, 105);\n\t\t--supplementary-color-2: rgb(241, 168, 23);\n\t\t--supplementary-color-3: rgb(49, 162, 76);\n\t\t--supplementary-color-4: rgb(228, 230, 235);\n\n\t\t/* Utilities */\n\t\t--border-radius: 4px;\n\t\t--padding: 10px;\n\n\t\t/* Game */\n\t\t--character-size: ","px;\n\t\t--tile-size: ",";\n\t\t--game-size: ",";\n\t}\n"])),z.size.character,z.size.tile,z.size.game),w={palette:{background:{primary:"var(--primary-background)",secondary:"var(--secondary-background)"},color:{primary:"var(--primary-color)",secondary:"var(--secondary-color)",supplementary:["var(--supplementary-color-1)","var(--supplementary-color-2)","var(--supplementary-color-3)","var(--supplementary-color-4)"]}},shape:{borderRadius:"var(--border-radius)",padding:"var(--padding)"},game:{character:{size:"var(--character-size)"}}},$=n(1),k=l.c.button(O||(O=Object(s.a)(["\n\tbackground-color: ",";\n\t/* IGNORE SIZE FOR NOW */\n\tborder-radius: ",";\n\tpadding: ",";\n"])),(function(t){var e=t.$variant;return w.palette.color[e]}),w.shape.borderRadius,w.shape.padding),D=function(t){var e=t.variant,n=t.size,r=t.children,o=Object(f.a)(t,["variant","size","children"]);return Object($.jsx)(k,Object(d.a)(Object(d.a)({$variant:e,$size:n},o),{},{children:r}))},E=Object(o.memo)(D),T=n(7),S=n(14);function C(t,e){var n=e||t,r=void 0!==e&&t||0;return Math.floor(Math.random()*(n-r))+r}!function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT"}(x||(x={})),function(t){t.X="X",t.Y="Y"}(g||(g={})),function(t){t.Firing="Firing",t.Exploding="Exploding",t.Exploded="Exploded"}(v||(v={}));var L,I,A,F,N,R,M,P,X,Y,W,B,U,G,J,V=function(){var t=C(z.size.collisionMin,z.size.collisionMax);return Array(t).fill(0).reduce((function(t){var e=C(2,z.size.game),n=C(2,z.size.game);return t[e]=n,t}),{})},_=z.size.movement*(z.size.game-1),H=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n[t/z.size.movement]===e/z.size.movement,o=t<0||t>_,i=e<0||e>_;return!r&&!o&&!i},Z=(y={},Object(T.a)(y,g.X,{REPLACE:/rotateX\(-?\d+deg\)/g,FIND:Object(S.a)(/rotateX\((\x2D?[0-9]+)deg\)/,{degree:1})}),Object(T.a)(y,g.Y,{REPLACE:/rotateY\(-?\d+deg\)/g,FIND:Object(S.a)(/rotateY\((\x2D?[0-9]+)deg\)/,{degree:1})}),y),q=function(t,e,n){e&&(t.current.style.transition="".concat(z.duration.movement,"ms"),t.current.style.transform=function(t,e){var n=90,r=g.Y;return e!==x.DOWN&&e!==x.LEFT||(n*=-1),e!==x.UP&&e!==x.DOWN||(r=g.X),t.replace(Z[r].REPLACE,"rotate".concat(r,"(").concat(n,"deg)"))}(t.current.style.transform,n))},K="translateZ(calc(var(--tile-size) / 2 * 1px)) rotateX(0deg) rotateY(0deg)",Q=n(13),tt=n.n(Q),et=n(20),nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){setTimeout(e,t)}))},rt=Object(l.d)(L||(L=Object(s.a)(["\n\t0% { transform:rotate(0deg); }\n\t/* 40% -> 100% */\n\t","\n"])),Array(7).fill(0).map((function(t,e){return"".concat(10*(e+4),"% {transform: rotate(").concat((e+1)*((e<4?90:e<6&&270)||360),"deg);}")})).join("\n")),ot=l.c.div(I||(I=Object(s.a)(["\n\tanimation: "," linear forwards;\n"])),rt),it=l.c.div(F||(F=Object(s.a)(["\n\t","\n"])),(function(t){var e=t.$explosionAxis,n=t.$explosionSize;return Object(l.b)(N||(N=Object(s.a)(["\n\t\tanimation: ","\n\t\t\t/** @see https://easings.net/#easeInOutBack */\n\t\t\tcubic-bezier(0.68, -0.6, 0.32, 1.6) forwards;\n\t"])),function(t){var e=t.$explosionAxis,n=2*(2*(t.$explosionSize+1)-1),r=2,o=2;return e===g.X?r=n:o=n,r-=.5,o-=.5,Object(l.d)(A||(A=Object(s.a)(["\n\t  \t0% {\n\t\t\ttransform: scale(1);\n\t\t\topacity: 1;\n\t\t}\n\t\t65% {\n\t\t\ttransform: scale(",", ",");\n\t\t}\n\t\t100% {\n\t\t\topacity: 0;\n\t\t}\n\t"])),r,o)}({$explosionAxis:e,$explosionSize:n}))})),at=function(t){var e=t.color,n=t.firingDuration,r=t.explodingDuration,i=t.explosionSize,a=t.top,c=t.left,s=Object(o.useState)(v.Firing),l=Object(p.a)(s,2),u=l[0],f=l[1];Object(o.useEffect)((function(){(function(){var t=Object(et.a)(tt.a.mark((function t(){return tt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nt(1e3*n);case 2:return f(v.Exploding),t.next=5,nt(1e3*r);case 5:f(v.Exploded);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[r,i,n]);var b=z.size.bomb,m=b/2,j=null,O={position:"absolute",backgroundColor:e,width:b,height:b,top:a+m,left:c+m,animationDuration:"".concat(r,"s")};return u===v.Exploding&&(j=Object($.jsxs)($.Fragment,{children:[Object($.jsx)(it,{style:O,$explosionAxis:g.X,$explosionSize:i}),Object($.jsx)(it,{style:O,$explosionAxis:g.Y,$explosionSize:i})]})),u===v.Firing&&(j=Object($.jsx)(ot,{style:Object(d.a)(Object(d.a)({},O),{},{animationDuration:"".concat(n,"s")})})),j},ct=(n(31),Object(o.forwardRef)((function(t,e){var n=t.size,r=t.top,o=t.left,i=t.animate,a=t.color,c=t.collisionIndex,s=t.style,l=t.className,u=Object(f.a)(t,["size","top","left","animate","color","collisionIndex","style","className"]);return Object($.jsx)("div",Object(d.a)(Object(d.a)({className:"".concat(l&&"".concat(l," ")||"","cuboid bouncy-block-").concat((i?c:"no-animation")||0),style:Object(d.a)(Object(d.a)({},s),{},{top:r,left:o,width:n,height:n}),ref:e},u),{},{children:Array(6).fill(0).map((function(t,e){return Object($.jsx)("div",{className:"cuboid__side",style:Object(d.a)(Object(d.a)({},a&&{backgroundColor:a}),{},{width:n,height:n})},e)}))}))}))),st=l.c.span(R||(R=Object(s.a)(["\n\tcolor: red;\n"]))),lt=l.c.div(M||(M=Object(s.a)(["\n\tcolor: #000;\n"]))),ut=l.c.span(P||(P=Object(s.a)([""]))),dt=l.c.span(X||(X=Object(s.a)([""]))),ft=l.c.div(Y||(Y=Object(s.a)(["\n\twidth: ",";\n\theight: ",";\n\tbackground-color: ",";\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tborder-radius: 50%;\n\tdisplay: flex;\n\tjustify-content: center;\n\n\ttransition: top ","ms,\n\t\tleft ","ms;\n\n\t& > "," {\n\t\tz-index: 9999;\n\t\tposition: absolute;\n\t\ttop: -20px;\n\t\tfont-size: 10px;\n\t}\n\n\t& > "," {\n\t\tposition: absolute;\n\t\ttop: 7px;\n\t\tfont-size: 8px;\n\n\t\t/* & > "," {\n\t\t}\n\t\t& > "," {\n\t\t} */\n\t}\n"])),w.game.character.size,w.game.character.size,w.palette.color.primary,z.duration.movement,z.duration.movement,st,lt,ut,dt),bt=function(t){var e=t.name,n=t.collisionCoordinates,r=t.is3D,i=t.addBomb,a=Object(o.useRef)(null),c=Object(o.useRef)((new Date).getTime()),s=Object(o.useRef)({});return Object(o.useEffect)((function(){var t=function(){if(a.current&&s.current){if(function(t){t.current.style.transition="0ms",t.current.style.transform=K}(a),s.current.ArrowUp){var t=a.current.offsetLeft,e=a.current.offsetTop-z.size.movement;H(t,e,n)&&(a.current.style.top="".concat(e,"px"),q(a,r,x.UP))}if(s.current.ArrowRight){var o=a.current.offsetLeft+z.size.movement,i=a.current.offsetTop;H(o,i,n)&&(a.current.style.left="".concat(o,"px"),q(a,r,x.RIGHT))}if(s.current.ArrowDown){var c=a.current.offsetLeft,l=a.current.offsetTop+z.size.movement;H(c,l,n)&&(a.current.style.top="".concat(l,"px"),q(a,r,x.DOWN))}if(s.current.ArrowLeft){var u=a.current.offsetLeft-z.size.movement,d=a.current.offsetTop;H(u,d,n)&&(a.current.style.left="".concat(u,"px"),q(a,r,x.LEFT))}}},e=function(e){if(s.current&&c.current&&(s.current[e.code]="keydown"===e.type,"keydown"===e.type)){var n=(new Date).getTime();if(n-c.current>z.duration.movement&&(c.current=n,t()),"Space"===e.code){if(!a.current)return;i({top:a.current.offsetTop,left:a.current.offsetLeft})}}};return window.addEventListener("keyup",e),window.addEventListener("keydown",e),function(){window.removeEventListener("keyup",e),window.removeEventListener("keydown",e)}}),[i,n,r]),r&&Object($.jsx)(ct,{ref:a,size:32,left:0,top:0,animate:!0,color:w.palette.color.primary,style:{transform:K}})||Object($.jsxs)(ft,{ref:a,$name:e,children:[Object($.jsx)(st,{children:e}),Object($.jsxs)(lt,{children:[Object($.jsx)(ut,{children:"o-o"}),Object($.jsx)("br",{}),Object($.jsx)(dt,{children:"==="})]})]})},pt=function(t){var e=Object(o.useRef)();return Object(o.useEffect)((function(){e.current=t}),[t]),e.current},mt=Object(l.d)(W||(W=Object(s.a)(["\n\t0% { transform: scale(0, 0); }\n\t25% { transform: scale(0.9, 1.1); }\n\t50% { transform: scale(1.1, 0.9); }\n\t75% { transform: scale(0.95, 1.05); }\n\t100% { transform: scale(1, 1); }\n"]))),jt=l.c.div.attrs((function(t){var e=t.$size,n=t.$top,r=t.$left,o=t.$color;return{style:Object(d.a)({width:e,height:e,top:n,left:r},o&&{backgroundColor:o})}}))(B||(B=Object(s.a)(["\n\tposition: absolute;\n\t/* background-color: ","; */\n\tborder: 1px solid ",";\n\t","\n"])),w.palette.background.secondary,w.palette.background.primary,(function(t){var e=t.$color,n=t.$collisionIndex;return t.$animate&&e&&Object(l.b)(U||(U=Object(s.a)(["\n\t\t\t\t\ttransform: scale(0, 0);\n\t\t\t\t\tz-index: 9999;\n\t\t\t\t\tanimation: "," 0.5s ease\n\t\t\t\t\t\t","s forwards;\n\t\t\t\t"])),mt,.1*n)||""})),Ot=function(t){var e=t.size,n=t.top,r=t.left,o=t.animate,i=t.color,a=t.collisionIndex;return Object($.jsx)(jt,{$size:e,$top:n,$left:r,$animate:o,$color:i,$collisionIndex:a})},xt=Object(o.memo)(Ot),gt=l.c.div(G||(G=Object(s.a)(["\n\twidth: ",";\n\theight: ",";\n\tborder-radius: ",";\n\tbackground-color: ",";\n\tposition: relative;\n\tbox-shadow: 0 10px 20px rgba(0, 0, 0, 0.5), 0 6px 6px rgba(0, 0, 0, 0.6);\n\ttransition: transform 0.5s;\n\n\t","\n"])),(function(t){var e=t.$size;return"calc(".concat(w.game.character.size," * ").concat(e,")")}),(function(t){var e=t.$size;return"calc(".concat(w.game.character.size," * ").concat(e,")")}),w.shape.borderRadius,w.palette.background.secondary,(function(t){var e=t.$is3D,n=t.$isTopView,r="";return e&&(r+="transform-style: preserve-3d;",n||(r+="\ntransform: rotateX(-24deg) rotateY(-24deg) rotateX(90deg);")),r})),vt=function(t){var e=t.size,n=t.collisionCoordinates,r=void 0===n?{}:n,o=t.is3D,i=t.isTopView,a=t.children,c=Array(e).fill(Array(e).fill(0)),s=pt(JSON.stringify(r)),l=JSON.stringify(r)!==s,u=1;return Object($.jsxs)(gt,{$size:e,$is3D:o,$isTopView:i,children:[c.map((function(t,e){return t.map((function(t,n){var i=r[n]===e;return o&&(i&&Object($.jsx)(ct,Object(d.a)({size:z.size.tile,top:e*z.size.tile,left:n*z.size.tile,animate:l},i&&{collisionIndex:u++}),"".concat(e,"_").concat(n))||Object($.jsx)(xt,{size:z.size.tile,top:e*z.size.tile,left:n*z.size.tile,animate:!1},"".concat(e,"_").concat(n)))||Object($.jsx)(xt,Object(d.a)({size:z.size.tile,top:e*z.size.tile,left:n*z.size.tile,animate:l},i&&{color:w.palette.color.secondary,collisionIndex:u++}),"".concat(e,"_").concat(n))}))})),a]})},yt=l.c.div(J||(J=Object(s.a)(["\n\ttext-align: center;\n\t","\n"])),(function(t){return t.$is3D?"perspective: 1000":""})),zt=function(){var t=Object(o.useState)((function(){return V()})),e=Object(p.a)(t,2),n=e[0],r=e[1],i=Object(o.useState)(!1),a=Object(p.a)(i,2),c=a[0],s=a[1],l=Object(o.useState)(!0),u=Object(p.a)(l,2),m=u[0],j=u[1],O=Object(o.useState)([]),x=Object(p.a)(O,2),g=x[0],v=x[1];return Object($.jsxs)(yt,{$is3D:c,children:[Object($.jsx)("h1",{children:"Bomberman - Work In Progress"}),Object($.jsx)(E,{variant:"secondary",size:"medium",onClick:function(){r(V())},children:"New Collision Coordinates"}),Object($.jsx)(E,{variant:c?"primary":"secondary",size:"medium",onClick:function(){s((function(t){return!t}))},children:"Toggle 3D (Experimental)"}),Object($.jsx)(E,{variant:m?"secondary":"primary",size:"medium",onClick:function(){j((function(t){return!t}))},disabled:!c,children:"Toggle Side View"}),Object($.jsx)("br",{}),Object($.jsx)("br",{}),Object($.jsxs)(vt,{size:z.size.game,collisionCoordinates:n,is3D:c,isTopView:m,children:[Object($.jsx)(bt,{name:"temp",collisionCoordinates:n,is3D:c,addBomb:function(t){var e=t.top,n=t.left;v((function(t){return[].concat(Object(b.a)(t),[{id:(new Date).toJSON(),top:e,left:n}])}))}}),g.map((function(t){var e=t.id,n=Object(f.a)(t,["id"]);return Object($.jsx)(at,Object(d.a)(Object(d.a)({},n),{},{color:"red",explosionSize:z.size.explosion,firingDuration:z.duration.bomb.firing,explodingDuration:z.duration.bomb.exploding}),e)}))]})]})},ht=function(){return Object($.jsxs)($.Fragment,{children:[Object($.jsx)(u,{children:Object($.jsx)(zt,{})}),Object($.jsx)(h,{})]})},wt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,33)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,a=e.getTTFB;n(t),r(t),o(t),i(t),a(t)}))};c.a.render(Object($.jsx)(i.a.StrictMode,{children:Object($.jsx)(ht,{})}),document.getElementById("root")),wt()}},[[32,1,2]]]);